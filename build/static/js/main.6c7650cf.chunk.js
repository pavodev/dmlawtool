(this.webpackJsonpdmlawtool=this.webpackJsonpdmlawtool||[]).push([[0],{134:function(e,t,a){e.exports=a(177)},139:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},156:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),s=a.n(o),l=(a(139),a(72)),i=a(21),c=a(225),d=a(234),u=a(235),h=a(74),p=a(236),m=a(15),f=a(9),g=a.n(f),b=a(16),v=a(24),y=a(25),E=a(27),x=a(26),w=a(85),k=a(107),_=a(71);function S(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=[],n=new Map,r=Object(k.a)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.has(o.id)||(n.set(o.id,!0),a.push(o))}}catch(s){r.e(s)}finally{r.f()}return a}function O(e,t,a){a="undefined"!==typeof a?a:[],t="undefined"!==typeof t?t:{id:0};var n=e.filter((function(e){return!(!e.parent_node&&!e.parent_node.length)&&e.parent_node[0].id===t.id}));return n.length>0&&(t.parent_node?t.children=n:a=n,n.sort((function(e,t){return parseInt(e.position)-parseInt(t.position)})),n.forEach((function(t){O(e,t)}))),a}function T(e){return{type:"SET_ERROR",error:e}}var j=a(38),N=(a(150),a(151),a(65)),C=a(5),L=a(50),B=a.n(L),I=(a(152),a(80)),M=a.n(I),D=a(217),z=a(237),A=a(241),H=a(222),R=a(220),F=a(221),q=a(112),P=a.n(q),W=a(113),U=a.n(W),G=a(114),Q=a.n(G),Y=a(115),Z=a.n(Y),V=a(116),$=a.n(V),J=a(111),K=a.n(J),X=a(242),ee=a(223),te=function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).openScrollDialog=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.setState({isOpen:!0,currentNode:e})},n.closeScrollDialog=function(){n.setState({isOpen:!1,currentNode:null})},n.resetAnimated=function(){n.state.flattenedNodes.forEach((function(e){e.animated=!1}))},n.setAnimated=function(e){var t=n.state.flattenedNodes.find((function(t){if(t.data.id===e.id)return!0}));if("undefined"===typeof t)return!1;for(;t.parent;)t.animated=!0,t=t.parent;n.update(n.state.root)},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n.handleSnackBarClose=function(){n.setState({snackBarOpen:!1})},n.resetZoom=function(){n.state.baseSvg.transition().duration(600).call(n.state.zoom.scale,.2).on("end",(function(){n.centerNode(n.state.root)}))},n.centerTree=function(){n.handleClose(),n.centerNode(n.state.root)},n.zoomIn=function(){return n.state.baseSvg.transition().call(n.state.zoom.scaleBy,2)},n.zoomOut=function(){return n.state.baseSvg.transition().call(n.state.zoom.scaleBy,.5)},n.setInitialNodeState=function(){n.handleClose(),n.collapseToInitialState(n.state.root),n.update(n.state.root),n.centerNode(n.state.root)},n.collapseToInitialState=function(e){n.update(n.state.root),"1"===e.data.default_expanded&&e.children.forEach(n.collapseToInitialState),"0"===e.data.default_expanded&&e.children&&(e._children=e.children,e._children.forEach(n.collapseToInitialState),e.children=null)},n.expand=function(e){var t=e.children?e.children:e._children;e._children&&(e.children=e._children,e._children=null),t&&t.forEach(n.expand)},n.collapse=function(e){e.children&&(e._children=e.children,e._children.forEach(n.collapse),e.children=null)},n.expandAll=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.handleClose(),n.expand(n.state.root),n.update(n.state.root),n.centerNode(n.state.root),n.onSearchChange(),n.onTagChange();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.collapseAll=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collapse(n.state.root),n.update(n.state.root),n.centerNode(n.state.root);case 3:case"end":return e.stop()}}),e)}))),n.expandSpecific=function(e){e._children&&e.data.default_expanded&&(e.children=e._children,e.children.forEach(n.expandSpecific),e._children=null)},n.searchTree=function(e,t,a){if(e.data.label===t)return a.push(e),a;if(!e.children&&!e._children)return!1;for(var r=e.children?e.children:e._children,o=0;o<r.length;o++){a.push(e);var s=n.searchTree(r[o],t,a);if(s)return s;a.pop()}},n.openPaths=function(e){for(var t=0;t<e.length;t++)"1"!==e[t].id&&(e[t].class="found",e[t]._children&&(e[t].children=e[t]._children,e[t]._children=null),n.update(e[t]))},n.flatten=function(e){var t=[],a=0;return function e(n){n.children&&n.children.forEach(e),n._children&&n._children.forEach(e),n.id||(n.id=a++),t.push(n)}(e),t},n.onSelectChange=function(){var e=C.select("select").node().value;if("Select"!==e){for(var t=n.flatten(n.state.root).find((function(t){if(t.data.label===e){var a=n.searchTree(n.state.root,t.data.label,[]);return n.centerNode(t),"undefined"!==typeof a&&n.openPaths(a),!0}}));t.parent;)t.color="red",t=t.parent;n.update(n.state.root)}else n.doReset()},n.highlightPath=function(e){if(e.data.label)if(e.data.label!==n.state.root.data.label){var t=n.state.flattenedNodes.find((function(t){if(t.data.id===e.data.id)return!0}));if("undefined"!==typeof t){for(var a=t;t.parent;)t.path_color=a.data.fill,t=t.parent;n.update(n.state.root)}}else n.doReset();else n.doReset()},n.onSearchChange=function(){var e=Object(N.a)(n);n.state.searchText?C.selectAll("foreignObject").each((function(t){var a=C.select(this).select("body");t.data.description.toLowerCase().includes(e.state.searchText.toLowerCase())||t.data.label.toLowerCase().includes(e.state.searchText.toLowerCase())?a.style("border",(function(e){return C.select(this).classed("hovered")?"5px solid black":(C.select(this).classed("matchsearch",!0),"8px solid #f74a27")})):a.style("border",(function(e){return C.select(this).classed("hovered")?"5px solid black":(C.select(this).classed("matchsearch",!1),"5px solid "+e.data.stroke)}))})):C.selectAll("foreignObject").select("body").style("border",(function(e){return C.select(this).classed("matchsearch",!1),C.select(this).classed("hovered")?"5px solid black":"5px solid "+e.data.stroke}))},n.onTagChange=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(N.a)(n),console.log("IM HERE"),n.state.selectedTags&&0!==n.state.selectedTags.length){e.next=5;break}return C.selectAll("foreignObject").select("body").classed("equalsFilter",!0).style("color",(function(e){return e.data.text_color})).style("background",(function(e){return e.data.fill_gradient?"linear-gradient(0.25turn, ".concat(e.data.fill,",").concat(e.data.fill_gradient,")"):e.data.fill})),e.abrupt("return");case 5:C.selectAll("foreignObject").each((function(e){var a=this;if(e.data.tags){for(var n=function(n){if(e.data.tags.filter((function(e){return e.label===t.state.selectedTags[n].label})).length>0)return C.select(a).select("body").classed("equalsFilter",!0).style("color",(function(e){return e.data.text_color})).style("background",(function(e){return e.data.fill_gradient?"linear-gradient(0.25turn, ".concat(e.data.fill,",").concat(e.data.fill_gradient,")"):e.data.fill})),{v:void 0}},r=0;r<t.state.selectedTags.length;r++){var o=n(r);if("object"===typeof o)return o.v}C.select(this).select("body").classed("equalsFilter",!1).style("color",(function(e){return t.getBrighterFont(e.data.text_color)})).style("background",(function(e){return t.getBrighterLinearGradient(e.data.fill,e.data.fill_gradient)}))}else C.select(this).select("body").classed("equalsFilter",!1).style("color",(function(e){return t.getBrighterFont(e.data.text_color)})).style("background",(function(e){return t.getBrighterLinearGradient(e.data.fill,e.data.fill_gradient)}))}));case 6:case"end":return e.stop()}}),e)}))),n.searchForNodes=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!(n.state.selectedTags&&n.state.selectedTags.length>0)){e.next=4;break}return e.next=4,n.flatten(n.state.root).forEach((function(e){if(e.data.tags)for(var a=function(a){if(e.data.tags.filter((function(e){return e.label===n.state.selectedTags[a].label})).length>0)return t.push(e),{v:void 0}},r=0;r<n.state.selectedTags.length;r++){var o=a(r);if("object"===typeof o)return o.v}}));case 4:if(1!==t.length){e.next=7;break}return e.next=7,n.setState({snackBarOpen:!0,snackBarMessage:"Found ".concat(t.length," node with the seleted Tags")});case 7:if(!(t.length>1)){e.next=10;break}return e.next=10,n.setState({snackBarOpen:!0,snackBarMessage:"Found ".concat(t.length," nodes with the seleted Tags")});case 10:return e.next=12,n.openPathToNodes(t);case 12:return e.next=14,n.centerTree();case 14:case"end":return e.stop()}}),e)}))),n.openPathToNodes=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<t.length)){e.next=9;break}return e.next=4,n.searchTree(n.state.root,t[a].data.label,[]);case 4:"undefined"!==typeof(r=e.sent)&&n.openPaths(r);case 6:a++,e.next=1;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.resetSearch=function(){n.setState({searchText:""})},n.doReset=function(){n.flatten(n.state.root).forEach((function(e){e.path_color=void 0,"found"===e.class&&(e.class="")})),n.update(n.state.root)},n.toggleChildren=function(e){return e.children?(e._children=e.children,e.children=null):e._children&&(e.children=e._children,e._children=null),e},n.centerNode=function(e){var t=C.zoomTransform(n.state.baseSvg.node()),a=-e.y0,r=-e.x0;a=a*t.k+n.state.viewerWidth/2,r=r*t.k+n.state.viewerHeight/2,n.state.baseSvg.transition().duration(n.state.duration).call(n.state.zoomListener.transform,C.zoomIdentity.translate(a,r).scale(t.k))},n.click=function(e){C.event.stopPropagation(),C.selectAll("foreignObject").on("mouseenter",(function(){})).on("mouseleave",(function(){})),C.selectAll("foreignObject").select("body").on("mouseenter",(function(){})).on("mouseleave",(function(){})),C.selectAll("foreignObject").select(".node__container").on("mouseenter",(function(){})).on("mouseleave",(function(){})),C.selectAll("foreignObject").select(".node__label").on("mouseenter",(function(){})).on("mouseleave",(function(){})),e.children?(e._children=e.children,e.children=null):(e.children=e._children,e._children=null),n.update(e),n.centerNode(e),n.onSearchChange(),n.onTagChange()},n.zoom=function(){null!=C.event.transform&&n.state.svgGroup.attr("transform",C.event.transform)},n.diagonal=function(e,t){if(null!=e&&null!=t)return"M "+(e.y-172)+" "+e.x+" C "+(e.y+t.y)/2+" "+e.x+","+(e.y+t.y)/2+" "+t.x+", "+(t.y+172)+" "+t.x},n.getBrighterLinearGradient=function(e,t){var a=e,n="black";a&&(n=a=B()(a).alpha(.2).rgba());var r=t;return r&&(r=B()(r).alpha(.2).rgba(),n="linear-gradient(0.25turn, rgba(".concat(a,"), rgba(").concat(r,"))")),n},n.getBrighterFont=function(e){if(!e)return"black";var t=B()(e).alpha(.4).rgba();return"rgba(".concat(t,")")},n.showTooltip=function(e){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(n.state.tooltip.transition().duration(400).style("opacity",1).style("left",C.event.pageX+"px").style("top",C.event.pageY+"px"),n.state.tooltip.html('\n            <div class="ui card tooltip__container">\n              <div class="content center tooltip__header">\n                <h3 class="ui header" style="margin:0;">'.concat(e.data.label,'</h3>\n              </div>\n              <div class="content tooltip__content">\n                <div class="ui small feed">\n                  <div class="event">\n                    <div class="content">\n                      <div class="summary">\n                        <p>').concat(e.data.summary,"</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ")))},n.hideTooltip=function(){n.state.tooltip.transition().duration(10).style("opacity",0)},n.update=function(e){var t=Object(N.a)(n),a=[1];!function e(t,n){n.children&&n.children.length>0&&(a.length<=t+1&&a.push(0),a[t+1]+=n.children.length,n.children.forEach((function(a){e(t+1,a)})))}(0,n.state.root);var r=25*C.max(a),o=C.tree().size([r,n.state.viewerWidth]);n.setState({treemap:o});var s=o(n.state.root),l=s.descendants(),i=s.descendants().slice(1);l.forEach((function(e){e.y=e.depth*(35*n.state.maxLabelLength),e.y=690*e.depth})),l.forEach((function(e){e.x=15*e.x}));var c=0,d=n.state.svgGroup.selectAll("g.node").data(l,(function(e){return e.id||(e.id=++c)})),u=(d.exit().transition().duration(n.state.duration).attr("transform",(function(t){return"translate("+e.y0+","+e.x0+")"})).remove(),d.enter().append("g").attr("class","node").attr("transform",(function(t){return"translate("+e.y0+","+e.x0+")"})).on("click",(function(e){C.event.stopPropagation(),n.setState({snackBarOpen:!1}),n.hideTooltip(),n.props.openDrawer(e),n.centerNode(e)})));u.append("foreignObject").attr("width",20).attr("height",(function(e){return e.originalHeight=40,e.originalHeight})).append("xhtml:body").classed("equalsFilter",!0).style("font","25px 'Open Sans'").attr("font-weight","bold").style("color",(function(e){return e.data.text_color})).style("background",(function(e){return e.data.fill_gradient?"linear-gradient(0.25turn, ".concat(e.data.fill,",").concat(e.data.fill_gradient,")"):e.data.fill})).style("border-radius","15px").style("border",(function(e){return"5px solid "+e.data.stroke})).on("mouseenter",(function(e){C.event.stopPropagation()})).on("mouseleave",(function(e){C.event.stopPropagation()})).each((function(e){C.select(this).html("<div class='node__container'><p class='node__label'>"+e.data.label+"</p></div>")})),C.selectAll("foreignObject").select(".node__container").on("mouseenter",(function(e){C.event.stopPropagation();var a=C.select(this.parentNode);a.classed("hovered",!0),a.style("background","#e8e8e8").style("border","5px solid black").style("color","black"),C.select(this).style("cursor","pointer"),e.data.summary&&t.showTooltip(e)})).on("mouseleave",(function(e){t.hideTooltip(),C.event.stopPropagation();var a=C.select(this.parentNode);a.classed("hovered",!1),a.style("color",(function(e){return C.select(this).classed("equalsFilter")?e.data.text_color:t.getBrighterFont(e.data.text_color)})).style("border",(function(e){return C.select(this).classed("matchsearch")?"8px solid #f74a27":"5px solid "+e.data.stroke})).style("background",(function(e){return C.select(this).classed("equalsFilter")?e.data.fill_gradient?"linear-gradient(\n                0.25turn,\n                ".concat(e.data.fill,",\n                ").concat(e.data.fill_gradient,"\n              )"):e.data.fill:t.getBrighterLinearGradient(e.data.fill,e.data.fill_gradient)})),C.select(this).style("cursor","initial")}));var h=u.append("g").attr("class","expander").attr("display",(function(e){if(!e.children&&!e._children||"1"===e.data.isroot)return"none"})).on("click",n.click).on("mouseenter",(function(e){C.select(this).style("cursor","pointer")})).on("mouseleave",(function(e){C.select(this).style("cursor","initial")}));h.append("circle").attr("class","expander__shape").attr("r",25).attr("cx",172.5),h.append("text").style("fill","white").style("text-decoration","none").style("font-size","40px").attr("class","expander__label").attr("dy",11),C.selectAll(".expander__shape").style("stroke",(function(e){return"black"})).style("stroke-width","5px").style("fill",(function(e){return!e._children&&e.children?"#d72a24":e._children&&!e.children?"#067302":""})),C.selectAll(".expander__label").attr("dx",(function(e){return!e._children&&e.children?165.5:e._children&&!e.children?160.5:0})).text((function(e){return!e._children&&e.children?"-":e._children&&!e.children?"+":""}));var p=u.merge(d);p.transition().duration(n.state.duration).attr("transform",(function(e){return"translate("+e.y+","+e.x+")"})).on("end",(function(){n.onSearchChange()})),p.select("foreignObject").attr("width",350).attr("height",(function(e){return C.select(this).select(".node__label").node().clientHeight+30})).attr("rx","20px").attr("x",(function(e){return-175})).attr("y",(function(e){return-C.select(this).node().getBBox().height/2}));var m=n.state.svgGroup.selectAll("path.tree-link").data(i,(function(e){return e.id}));m.enter().insert("g","g").attr("class","link-group").append("path").attr("d",(function(t){var a={x:e.x0,y:e.y0};return n.diagonal(a,a)})).attr("class","link flowline tree-link").style("stroke","black").style("stroke-width",30).style("fill","none").merge(m).transition().duration(n.state.duration).attr("d",(function(e){return n.diagonal(e,e.parent)}));m.exit().transition().duration(n.state.duration).attr("d",(function(t){var a={x:e.x,y:e.y};return n.diagonal(a,a)})).remove();C.selectAll(".tree-link").style("stroke",(function(e){if("undefined"!==typeof e)return e.animated&&!e.path_color?e.fill:e.path_color?e.path_color:"gray"})).style("stroke-width",(function(e){if("undefined"!==typeof e)return e.path_color?"15px":10})).each((function(e){e.animated?C.select(this).classed("animate",!0):C.select(this).classed("animate",!1)})),l.forEach((function(e){e.x0=e.x,e.y0=e.y}))},n.showCloseBtn=function(){n.setState({closeBtn:r.a.createElement("button",{className:"searchButton closeButton",onClick:n.resetSearch},r.a.createElement(M.a,{color:"action"}))})},n.hideCloseBtn=function(){n.setState({closeBtn:null})},n.state={searchText:"",closeBtn:null,nodeId:0,root:null,baseSvg:null,svgGroup:null,treemap:null,treeData:null,zoomListener:null,maxLabelLength:15,viewerWidth:0,viewerHeight:0,duration:750,zoom:null,open:!1,snackBarOpen:!1,snackBarMessage:"",anchorEl:null,defaultUpdate:function(){},isOpen:!1,currentNode:null},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({viewerWidth:document.getElementById("tree").innerWidth,viewerHeight:document.getElementById("tree").innerHeight});case 2:return e.next=4,this.drawChart();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.search===this.props.search){e.next=5;break}return this.doReset(),e.next=4,this.setState({searchText:this.props.search});case 4:this.onSearchChange();case 5:if(t.currentNodes===this.props.currentNodes){e.next=17;break}this.resetAnimated(),this.doReset(),a=0;case 9:if(!(a<this.props.currentNodes.length)){e.next=17;break}return e.next=12,this.setState({currentNodes:this.props.currentNodes});case 12:this.setAnimated(this.props.currentNodes[a]),this.highlightPath({data:this.props.currentNodes[a]});case 14:a++,e.next=9;break;case 17:if(t.selectedTags===this.props.selectedTags){e.next=24;break}return e.next=20,this.setState({selectedTags:this.props.selectedTags});case 20:return this.doReset(),e.next=23,this.searchForNodes();case 23:this.onTagChange();case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"tree"},r.a.createElement("div",{className:"bottom-toolbar"},r.a.createElement(D.a,{className:"bottom-toolbar__menu-button","aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(K.a,{style:{marginRight:"7px"}}),"Tree utilities"),r.a.createElement(z.a,{id:"simple-menu",anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleClose,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(A.a,{onClick:this.centerTree},r.a.createElement(R.a,null,r.a.createElement(P.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Center Tree"})),r.a.createElement(H.a,null),r.a.createElement(A.a,{onClick:this.expandAll},r.a.createElement(R.a,null,r.a.createElement(U.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Expand"})),r.a.createElement(A.a,{onClick:this.setInitialNodeState},r.a.createElement(R.a,null,r.a.createElement(Q.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Collapse"})),r.a.createElement(H.a,null),r.a.createElement(A.a,{onClick:this.zoomIn},r.a.createElement(R.a,null,r.a.createElement(Z.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Zoom in"})),r.a.createElement(A.a,{onClick:this.zoomOut},r.a.createElement(R.a,null,r.a.createElement($.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Zoom out"}))))),r.a.createElement(X.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:this.state.snackBarOpen,autoHideDuration:5e3,onClose:this.handleSnackBarClose},r.a.createElement(ee.a,{className:"snackbar",message:this.state.snackBarMessage})))}},{key:"drawChart",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.hierarchy(this.props.jsonData,(function(e){return e.children})),this.setState({viewerWidth:window.innerWidth,viewerHeight:window.innerHeight}),a=C.zoom().scaleExtent([.1,3]).on("zoom",this.zoom),this.setState({zoom:a}),n=C.select("#tree").append("svg").attr("width","100%").attr("height","100%").attr("pointer-events","all").attr("class","overlay").call(a),r=C.select("#tree").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("position","absolute").style("border","solid").style("border-width","2px").style("border-radius","5px").style("z-index",100).style("pointer-events","none").attr("transform","translate(0,0)"),o=n.append("g").attr("width","2000px").attr("height","2000px"),t.x0=this.state.viewerHeight/2,t.x0=200,t.y0=50,this.setState({root:t,treemap:void 0,treeData:this.props.treeData,svgGroup:o,baseSvg:n,zoomListener:a,tooltip:r}),this.state.baseSvg.call(this.state.zoom.scaleBy,.35),this.setInitialNodeState(),this.update(this.state.root),e.next=16,this.setState({flattenedNodes:this.flatten(this.state.root)});case 16:this.centerNode(this.state.root);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(n.Component),ae=a(4),ne=a(243),re=a(244),oe=(a(153),["<b>","</b>","<strong>","</strong>","<i>","</i>","<em>","</em>","<mark>","</mark>","<small>","</small>","<del>","</del>","<ins>","</ins>","<sub>","</sub>","<sup>","</sup>","<span>","</span>","<p>","</p>","&nbsp;","&nbsp","&amp;","&amp"]),se=function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ne.a,{key:this.props.tag.id,className:"chip",color:"primary",label:this.props.tag.label,style:{backgroundColor:this.props.tag.background_color,color:this.props.tag.text_color}}))}}]),a}(r.a.Component),le=Object(ae.a)({tooltip:{marginRight:"0px",backgroundColor:"white",border:"1px solid #bdbdbd"}})(re.a),ie=function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).searchText=Object(b.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({newNodeDescription:n.props.node.data.description});case 2:if(n.props.search){e.next=4;break}return e.abrupt("return");case 4:t=document.querySelector(".node__description"),a=Object(_.a)(t.querySelectorAll("span")),t.querySelectorAll("details").forEach((function(e){e.open=!0})),a&&(a=a.filter(n.filterSpanWithImgElements)).forEach((function(e){var t=n.stripFromElement(e,oe);e.innerHTML=t,e.innerHTML=n.customReplaceAll(e.innerHTML,n.props.search,"<mark>".concat(n.props.search,"</mark>"),!0)}));case 9:case"end":return e.stop()}}),e)}))),n.customReplaceAll=function(e,t,a,n){var r=e.toString(),o="",s=r,l=0,i=-1;n&&(t=t.toLowerCase(),s=r.toLowerCase());for(;(i=s.indexOf(t))>-1;)console.log(l,l+i,i,i+t.length,i+t.length,s.length),o+=r.substring(l,l+i)+"<mark>".concat(e.substring(l+i,l+i+t.length),"</mark>"),s=s.substring(i+t.length,s.length),l+=i+t.length;return s.length>0&&(o+=r.substring(r.length-s.length,r.length)),o},n.stripFromElement=function(e,t){for(var a=e.innerHTML,n=0;n<t.length;n++)a=a.split(t[n]).join("");return a},n.filterSpanWithImgElements=function(e){return!(e.innerHTML.includes("<img")||e.innerHTML.includes("<span")||e.innerHTML.includes("<ol")||e.innerHTML.includes("<li"))},n.escapeRegExp=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},n.state={open:!1,newNodeDescription:""},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){window.onbeforeunload=function(){var e=document.getElementById("node-sidenav");e&&(e.scrollTop=0)}}},{key:"componentDidUpdate",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=document.getElementById("node-sidenav"))&&this.props.node&&t.node&&this.props.node.data.id!==t.node.data.id&&(a.scrollTop=0),!this.props.node||this.props.node===t.node){e.next=6;break}return e.next=5,this.setState({newNodeDescription:""});case 5:this.searchText();case 6:t.search!==this.props.search&&this.props.node&&this.searchText();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=[];return this.props.node&&(e=this.props.node.data.tags?this.props.node.data.tags:[]),r.a.createElement("div",null,this.props.node?r.a.createElement("div",{id:"node-sidenav",className:"sidenav scroll-content"},r.a.createElement("div",{className:"closebtn__container"},r.a.createElement("button",{className:"closebtn",onClick:this.props.close},"\xd7")),r.a.createElement("div",{className:"ui container",style:{padding:"10px"}},r.a.createElement("div",{className:"column centered"},r.a.createElement("div",{className:"ui card",style:{width:"100%"}},r.a.createElement("div",{className:"content"},r.a.createElement("h2",{className:"ui header",style:{textAlign:"center",marginTop:"10px"}},r.a.createElement("span",null,this.props.node.data.label)),e.length>0?r.a.createElement("div",{className:"ui small feed"},r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",{className:"event"},r.a.createElement("div",{className:"content",style:{width:"100%"}},r.a.createElement("div",{className:"chip__container"},e.map((function(e){return e.t_description?r.a.createElement(le,{key:e.id,placement:"left",title:r.a.createElement("p",{style:{fontSize:"1.3em",color:"black"}},e.t_description),"aria-label":"add"},r.a.createElement("div",null,r.a.createElement(se,{tag:e}))):r.a.createElement("div",{key:e.id},r.a.createElement(se,{tag:e}))})))))):null,r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",{className:"content node__description"},r.a.createElement("div",{className:"ui small feed"},r.a.createElement("div",{className:"event"},r.a.createElement("div",{className:"content",style:{width:"100%"}},this.state.newNodeDescription?r.a.createElement("div",{className:"summary",key:Math.random(),dangerouslySetInnerHTML:{__html:this.state.newNodeDescription}}):r.a.createElement("div",{className:"summary",key:Math.random(),dangerouslySetInnerHTML:{__html:this.props.node.data.description}})))))))))):r.a.createElement("div",null))}}]),a}(r.a.Component),ce=a(224),de=function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement(ce.a,{className:"message__body"},this.props.data.message_label?r.a.createElement(h.a,{gutterBottom:!0,variant:"h5",component:"h2"},this.props.data.message_label):null,this.props.data.message?r.a.createElement("div",null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.data.message}})):null,r.a.createElement("div",{className:"divider"}),this.props.data.text&&this.props.data.message?r.a.createElement(ce.a,{className:"message__body--darker"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.data.text}})):null,this.props.data.text&&!this.props.data.message?r.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.data.text}}):null)}}]),a}(r.a.Component),ue=(a(154),r.a.Component,a(73)),he=a(239),pe=a(229),me=a(228),fe=a(227),ge=a(240),be=a(226),ve=a(119),ye=a.n(ve),Ee=a(120),xe=a.n(Ee),we=a(122),ke=a(118),_e=(a(156),a(230)),Se=Object(c.a)((function(e){return{root:{"& > svg":{margin:e.spacing(2)}},top:{color:"#1a90ff",animationDuration:"550ms",position:"relative",left:0,bottom:0},container:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),width:"100%"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}})),Oe=Object(ke.a)();function Te(e){var t=Se(),a=r.a.useState(!1),o=Object(ue.a)(a,2),s=o[0],l=o[1],i=r.a.useState(!1),c=Object(ue.a)(i,2),d=c[0],u=c[1],p=r.a.useState([]),f=Object(ue.a)(p,2),v=f[0],y=f[1],E=r.a.useState(e.selectedTags),x=Object(ue.a)(E,2),w=(x[0],x[1],function(){var t=Object(b.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,y(v);case 3:return t.next=5,e.setTags(v);case 5:u(!1),l(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),k=function(){y(v),l(!1)};Object(n.useEffect)((function(){e.clear&&y([])}),[e.clear]);var _={control:function(e){return Object(m.a)(Object(m.a)({},e),{},{backgroundColor:"white"})},option:function(e,t){var a=t.data,n=t.isDisabled,r=t.isFocused,o=t.isSelected,s=B()(a.background_color),l=B()(a.text_color);return Object(m.a)(Object(m.a)({},e),{},{backgroundColor:n?null:o?a.background_color:r?s.alpha(.3).css():null,color:"black",cursor:n?"not-allowed":"default",":active":Object(m.a)(Object(m.a)({},e[":active"]),{},{backgroundColor:!n&&(o?a.background_color:s.alpha(.3).css()),color:l.alpha(1).css()})})},multiValue:function(e,t){var a=t.data,n=B()(a.background_color),r=B()(a.text_color);return Object(m.a)(Object(m.a)({},e),{},{borderRadius:"20px",backgroundColor:n.alpha(1).css(),color:r.alpha(1).css()})},multiValueLabel:function(e,t){var a=t.data,n=B()(a.text_color);return Object(m.a)(Object(m.a)({},e),{},{color:n.alpha(1).css()})}};return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(be.a,{onClick:function(){e.closeDrawer(),l(!0)},"aria-label":"delete",color:"primary",className:t.margin+" filter-button"},r.a.createElement(ye.a,null)),r.a.createElement(he.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:s,onClose:k,fullWidth:!0,maxWidth:"xs"},r.a.createElement(fe.a,null,r.a.createElement(be.a,{"aria-label":"close",className:t.closeButton,onClick:k},r.a.createElement(M.a,null))),r.a.createElement(me.a,null,r.a.createElement(h.a,{variant:"h5"},r.a.createElement(xe.a,{style:{padding:"0"}})," Filter by ",r.a.createElement("strong",null,"Tag")),r.a.createElement(h.a,{style:{paddingTop:"20px",paddingBottom:"20px"}},"A ",r.a.createElement("strong",null,"Tag")," represents a particular topic or word that describes a given Node of the DMLawTool tree.",r.a.createElement("br",null),"By selecting a tag you can filter nodes that share the same topic or definition.")),r.a.createElement(H.a,null),r.a.createElement("div",null,r.a.createElement("form",{className:t.container},r.a.createElement(ge.a,{className:t.formControl},r.a.createElement(we.a,{isDisabled:!!d,styles:_,maxMenuHeight:170,closeMenuOnSelect:!0,components:Oe,onChange:function(e){y(e)},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.label},isMulti:!0,options:e.options.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),value:v,placeholder:"Select the tags..."})))),r.a.createElement(H.a,null),r.a.createElement(pe.a,null,d?r.a.createElement(_e.a,{className:t.top,size:20}):null,r.a.createElement(D.a,{onClick:function(){y([])},disabled:!!d,color:"primary"},"Reset"),r.a.createElement(D.a,{onClick:w,disabled:!!d,color:"primary"},"Ok"))))}var je=a(232),Ne=a(231),Ce=a(121),Le=a.n(Ce),Be=(a(170),Object(c.a)((function(e){return{gridList:{cursor:"default",flexWrap:"nowrap",overflow:"hidden",overflowX:"auto",maxWidth:"300px",height:"50px",transform:"translateZ(0)",backgroundColor:"white",color:"rgba(49, 51, 49, 0.3)",borderRadius:"10px",border:"1px solid rgba(49, 51, 49, 0.3)",padding:"5px 0px"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}))),Ie=function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement(ne.a,{key:this.props.item.id,className:"chip",color:"primary",label:this.props.item.label,style:{backgroundColor:this.props.item.background_color,color:this.props.item.text_color}})}}]),a}(r.a.Component),Me=Object(ae.a)({tooltip:{marginTop:"5px",backgroundColor:"white",border:"1px solid #bdbdbd"}})(re.a);function De(e){var t=Be();return e.items&&e.items.length>0?r.a.createElement("div",{style:{margin:"0px 20px"}},r.a.createElement(je.a,{className:t.gridList,cols:2,cellHeight:"auto"},function(){if(e.items&&e.items.length>0)return r.a.createElement(Ne.a,{style:{width:"auto"}},r.a.createElement("div",{className:"delete-tile delete-tile--button",style:{cursor:"pointer",color:"black"},onClick:e.clear},r.a.createElement(Le.a,null)))}(),e.items&&e.items.length?e.items.map((function(e){return function(e){return e.t_description?r.a.createElement(Me,{key:e.id,title:r.a.createElement("p",{style:{marginTop:"2px",fontSize:"1.3em",color:"black"}},e.t_description),"aria-label":"add"},r.a.createElement(Ne.a,{style:{width:"auto",marginTop:"2px"},key:e.id},r.a.createElement(Ie,{item:e}))):r.a.createElement(Ne.a,{style:{width:"auto"},key:e.id},r.a.createElement(Ie,{item:e}))}(e)})):r.a.createElement(Ne.a,{style:{width:"auto"}},r.a.createElement("div",{className:"delete-tile"},"No Tags selected...")))):null}var ze=function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).timeout=Object(b.a)(g.a.mark((function e(){var t,a,n,r,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=Math.floor(5*Math.random())+4e3,n=t||a,r=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.next=6,r(n);case 6:case"end":return e.stop()}}),e)}))),n.msgLoading=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(j.toggleMsgLoader)(),e.next=3,n.timeout(t);case 3:Object(j.toggleMsgLoader)();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderWelcomeMessage=Object(b.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{data:{message_label:"Hi there!",text:"<div><p>Welcome to DMLaw Tool!<br/>I am Lawly, your virtual assistant, and I will give you some tips on how to use the tool, but first a short reminder:</p></div>"}},{data:{message_label:"",text:"<div><p>The goal of DMLaw Tool (Data Management Law Tool) is to guide researchers through the most relevant legal issues in research data management.</p></div>"}},{data:{message_label:"",text:"<div><p>Let\u2019s now discover how it works: </p></div>"}},{data:{message_label:"",text:"<div><p><ul><li>The tool is organized as a decision tree in which each node provides the necessary definitions and explanations to choose the next branch.</li></ul></p></div>"}},{data:{message_label:"",text:"<div><p><ul><li>To see the definitions and explanations, simply click on the node</li></ul></p></div>"}},{data:{message_label:"",text:"<div><p><ul><li>Click on the + symbol to open up the next branches of a node (or the - symbol to close the branches)</li></ul></p></div>"}},{data:{message_label:"",text:"<div><p><ul><li>Different topics have different colors: Copyright nodes are in blue and Data Protection nodes in green</li></ul></p></div>"}},{data:{message_label:"",text:"<div><p><ul><li>All end-nodes are marked as yellow. They contain solution approaches that can be applied once arrived at the end of a branch.</li></ul></p></div>"}},{data:{message_label:"",text:"<div><p>You can search for specific terms by using the search box in the upper lefthand corner. All nodes that contain the word will be highlighted. You need to open up the tree to see all highlighted nodes. The term is highlighted in yellow within each text.You can also filter the contents by Tags. Each node has a series of tags that are shown at the beginning of each text and thus summarize the treated topics. When you filter by tags, the tree opens up automatically and shows all nodes that have the chosen tag(s).</p></div>"}},{data:{message_label:"",text:"<div><p>Tree utilities at the bottom, allow to center the tree, expand or collapse its branches and to zoom in and out. </p></div>"}},{data:{message_label:"",text:'<div><p>For any question regarding the tool or for more specific advice on the topics of copyright and data protection please write to: <address><a href="mailto:info@ccdigitallaw.ch">info@ccdigitallaw.ch</a></address></p></div>'}}],a=0;case 2:if(!(a<t.length)){e.next=13;break}return e.next=5,n.msgLoading();case 5:if(!n.state.welcomeStarted){e.next=9;break}Object(j.renderCustomComponent)(de,t[a]),e.next=10;break;case 9:return e.abrupt("return");case 10:a++,e.next=2;break;case 13:return e.next=15,n.setState({welcomeStarted:!1});case 15:case"end":return e.stop()}}),e)}))),n.startGuided=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n.state.questions){e.next=2;break}return e.abrupt("return");case 2:n.nextQuestion(n.state.questions);case 3:case"end":return e.stop()}}),e)}))),n.handleNewUserMessage=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("start"!==t.toLowerCase()||n.state.welcomeStarted){e.next=10;break}return e.next=3,n.setState({currentQuestion:null,currentNodes:[],guideStarted:!1,welcomeStarted:!0});case 3:return e.next=5,n.renderWelcomeMessage();case 5:return e.next=7,n.setState({guideStarted:!0});case 7:return e.abrupt("return");case 10:if("clear"!==t.toLowerCase()||n.state.welcomeStarted){e.next=20;break}return n.setState({currentQuestion:null,currentNodes:[],guideStarted:!1,welcomeStarted:!0}),e.next=14,Object(j.deleteMessages)();case 14:return e.next=16,n.renderWelcomeMessage();case 16:return e.next=18,n.setState({guideStarted:!0});case 18:return document.getElementById("start-guided").disabled=!0,e.abrupt("return");case 20:return e.next=22,n.guided(t);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.guided=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,r,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.guideStarted){e.next=38;break}if(n.state.currentQuestion){e.next=16;break}if("yes"!==t.toLowerCase()&&"y"!==t.toLowerCase()){e.next=7;break}document.getElementById("start-guided").disabled=!0,n.startGuided(),e.next=14;break;case 7:if("no"!==t.toLowerCase()&&"n"!==t.toLowerCase()){e.next=11;break}Object(j.renderCustomComponent)(de,{data:{message_label:"",text:"<div><p>Thank you for letting us know your preference! If you feel stuck at a certain point of your journey, you can always switch your navigation method into \u201cguided\u201d by typing \u201c<strong>Start</strong>\u201c!</p></div>"}}),e.next=14;break;case 11:return e.next=13,n.msgLoading();case 13:Object(j.addResponseMessage)("The request couldn' be satisfied, be sure to type the correct option...");case 14:e.next=38;break;case 16:a=n.state.currentQuestion,r=!1,o=0;case 19:if(!(o<a.children.length)){e.next=37;break}if(s=a.children[o],t.toLowerCase()!==s.label.toLowerCase()){e.next=34;break}return e.next=24,n.msgLoading();case 24:return e.next=26,n.nextQuestion(s);case 26:if(!s.nodes||!s.nodes.length){e.next=32;break}return document.getElementById("start-guided").disabled=!1,n.setState({currentNodes:s.nodes,currentQuestion:null,startGuided:!1}),e.next=31,n.msgLoading();case 31:Object(j.renderCustomComponent)(de,{data:{message_label:"",text:"<div><p>If you want to answer the questions again just type <b>start</b>!</p></div>"}});case 32:return r=!0,e.abrupt("break",37);case 34:o++,e.next=19;break;case 37:r||n.state.startGuided||Object(j.addResponseMessage)("The request couldn' be satisfied, be sure to type the correct option...");case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.nextQuestion=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n.setState({currentQuestion:t}),a=[],!t.message){e.next=20;break}a=t.message.split("<p>...</p>"),r={},o=0;case 8:if(!(o<a.length)){e.next=20;break}return 0===o?(r=Object(m.a)({},t)).message=a[o]:r={message:a[o],text:""},e.next=12,n.msgLoading(2500);case 12:if(!n.state.guideStarted){e.next=16;break}Object(j.renderCustomComponent)(de,{data:r}),e.next=17;break;case 16:return e.abrupt("return");case 17:o++,e.next=8;break;case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.openDrawer=function(e){n.setState({open:!0,currentNode:e}),document.getElementById("node-sidenav").style.opacity=1,window.innerWidth<=800?document.getElementById("node-sidenav").style.width="100%":document.getElementById("node-sidenav").style.width="600px",document.getElementById("node-sidenav").style.height="100%"},n.closeDrawer=function(){n.state.open&&(document.getElementById("node-sidenav").style.opacity=0,document.getElementById("node-sidenav").style.width="0",document.getElementById("node-sidenav").style.height="0",n.setState({open:!1,currentNode:null}))},n.setSelectedTags=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.closeDrawer(),!t||t.length){e.next=6;break}return e.next=4,n.setState({clear:!0});case 4:return e.next=6,n.setState({clear:!1});case 6:n.setState({selectedTags:t});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.inputChanged=function(){var e=document.querySelector(".search-input").value;e||n.setState({searchText:e})},n.handleInputSearch=function(e){if(13===(e.keyCode||e.which)){var t=document.querySelector(".search-input").value;n.setState({searchText:t})}},n.handleInputButtonSearch=function(){var e=document.querySelector(".search-input").value;n.setState({searchText:e})},n.handleFocus=function(e){e.target.select()},n.state={searchText:"",open:!1,currentNode:null,currentNodes:null,tags:[],nodes:[],questions:[],openDialog:!1,selectedTags:[],clear:!1,guideStarted:!1,welcomeStarted:!1},n}return Object(y.a)(a,[{key:"componentDidMount",value:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchNodes();case 2:return e.next=4,this.props.fetchQuestions();case 4:return e.next=6,this.setState({nodes:this.props.nodes,questions:this.props.questions,tags:this.props.tags});case 6:return e.next=8,this.msgLoading(500);case 8:return Object(j.toggleWidget)(),e.next=11,this.setState({welcomeStarted:!0});case 11:return e.next=13,this.renderWelcomeMessage();case 13:return e.next=15,this.setState({guideStarted:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ie,{node:this.state.currentNode,isOpen:this.state.open,open:this.openDrawer,close:this.closeDrawer,search:this.state.searchText}),r.a.createElement(j.Widget,{title:"Lawly",subtitle:"",handleNewUserMessage:this.handleNewUserMessage}),r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",{className:"toolbar__col toolbar__col--center"},r.a.createElement("div",{className:"ui icon input toolbar__search"},r.a.createElement("input",{className:"search-input toolbar__search__input",type:"text",placeholder:"Search for a word...",onChange:this.inputChanged,onKeyPress:this.handleInputSearch,onFocus:this.handleFocus}),r.a.createElement(be.a,{className:"toolbar__search__button",onClick:this.handleInputButtonSearch},r.a.createElement("i",{className:"search icon toolbar__search__button__icon"})))),r.a.createElement("div",{className:"toolbar__col toolbar__col--center"},r.a.createElement(Te,{options:this.state.tags,clear:this.state.clear,closeDrawer:this.closeDrawer,setTags:this.setSelectedTags})),r.a.createElement("div",{className:"toolbar__col toolbar__col--start"},r.a.createElement(De,{items:this.state.selectedTags,clear:function(){return e.setSelectedTags([])}}))),this.props.nodes?r.a.createElement("div",null,r.a.createElement(te,{search:this.state.searchText,openDrawer:this.openDrawer,closeDrawer:this.closeDrawer,currentNodes:this.state.currentNodes,jsonData:this.props.nodes,selectedTags:this.state.selectedTags})):null)}}]),a}(r.a.Component),Ae=Object(w.b)((function(e){return{nodes:e.nodes.data,tags:e.nodes.tags,questions:e.questions.data}}),{fetchNodes:function(){return function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dmlawtool-admin.ccdigitallaw.ch/wp-json/wp/v2/nodes?per_page=100").then((function(e){return e.json()})).then((function(e){var a=e.find((function(e){return!1===e.parent_node})),n=O(e,a);a.children=n;var r=[];e.forEach((function(e){e.tags&&e.tags.length>0&&(r=[].concat(Object(_.a)(r),Object(_.a)(e.tags)))}));var o=S(r);t({type:"FETCH_NODES",error:!1,payload:{data:a,tags:o}})})).catch((function(e){t({type:"FETCH_NODES_ERROR",error:!0,payload:{data:null,tags:null}}),T("Couldn't fetch nodes data from the server")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fetchQuestions:function(){return function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dmlawtool-admin.ccdigitallaw.ch/wp-json/wp/v2/questions?per_page=100").then((function(e){return e.json()})).then((function(e){var a=e.find((function(e){return!1===e.parent_node})),n=O(e,a);a.children=n,t({type:"FETCH_QUESTIONS",error:!1,payload:{data:a}})})).catch((function(e){t({type:"FETCH_QUESTIONS_ERROR",error:!0,payload:{data:null}}),T("Couldn't fetch questions data from the server")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(ze),He=(a(171),a(172),a(173),function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"notfound"},r.a.createElement("div",{className:"notfound__container"},r.a.createElement(h.a,{className:"notfound__title",variant:"h2"},"404 - Not found"),r.a.createElement(h.a,{className:"notfound__body "},"The requested page does not exist. Click on the button below to return to the homepage."),r.a.createElement(D.a,{className:"notfound__button",href:"/"},"Homepage")))}}]),a}(r.a.Component)),Re=a(233),Fe=(a(174),function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Re.a,{container:!0,direction:"column",alignItems:"center",justify:"center",className:"container"},r.a.createElement(Re.a,null,r.a.createElement("h1",null,"About us"),r.a.createElement("p",null,"DMLawTool has been developed by the Universit\xe0 della Svizzera italiana (USI) in collaboration with the University of Neuch\xe2tel (UNINE) within the P-5 programme \u201cScientific information\u201d of swissuniversities. The tool has been officially launched at the end of March, 2021, and will be available to everyone for free from the"," ",r.a.createElement("a",{href:"https://ccdigitallaw.ch/index.php/english",target:"_blank",rel:"noopener noreferrer"},"CCdigitallaw.ch")," ","platform."),r.a.createElement("h3",null,r.a.createElement("b",null,"Coordination:")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://search.usi.ch/en/people/9fd3744cedf324e92e975988ae7e6d58/picco-schwendener-anna",target:"_blank",rel:"noopener noreferrer"},"Dr. Anna Picco-Schwendener")," ","(USI, eLab,"," ",r.a.createElement("a",{href:"https://ccdigitallaw.ch/index.php/english",target:"_blank",rel:"noopener noreferrer"},"CCdigitallaw.ch"),") with the support of"," ",r.a.createElement("a",{href:"https://search.usi.ch/people/61cb45bbf00a7cb11e9a92ce0427566d/trifkovic-branislava",target:"_blank",rel:"noopener noreferrer"},"Branislava Trifkovic")," ","(USI, eLab)."),r.a.createElement("h3",null,r.a.createElement("b",null,"Content development:")),r.a.createElement("p",null,r.a.createElement("b",null,"Legal aspects"),":",r.a.createElement("br",null),r.a.createElement("a",{href:"https://search.usi.ch/en/people/a9eb2f1f9487f36a65cf66ca11cf6faf/marazza-suzanna",target:"_blank",rel:"noopener noreferrer"},"Suzanna Marazza")," ","(USI, eLab, CCdigitallaw) and"," ",r.a.createElement("a",{href:"https://www.unine.ch/droit/home/enseignants_1/assistantes/yves-bauer.html",target:"_blank",rel:"noopener noreferrer"},"Yves Bauer")," ","(UNINE) under the scientific supervision of"," ",r.a.createElement("a",{href:"https://www.unine.ch/nathalie.tissot/home.html",target:"_blank",rel:"noopener noreferrer"},"Prof. Nathalie Tissot")," ","(UNINE) ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Narrative design and content organization:"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://search.usi.ch/en/people/9fd3744cedf324e92e975988ae7e6d58/picco-schwendener-anna",target:"_blank",rel:"noopener noreferrer"},"Dr. Anna Picco-Schwendener")," ","with the support of"," ",r.a.createElement("a",{href:"https://search.usi.ch/people/61cb45bbf00a7cb11e9a92ce0427566d/trifkovic-branislava",target:"_blank",rel:"noopener noreferrer"},"Branislava Trifkovic")," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Technical implementation:"),r.a.createElement("br",null)," ",r.a.createElement("a",{href:"https://search.usi.ch/people/6bd65192ce96d221cf29e3457a86b412/pavic-ivan",target:"_blank",rel:"noopener noreferrer"},"Ivan Pavic")," ","(USI, eLab) ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("b",null,"Graphic design:"),r.a.createElement("br",null),r.a.createElement("a",{href:"https://search.usi.ch/en/people/5ce5f550b7261cc6a8dfda3e142eb58c/pera-mattia",target:"_blank",rel:"noopener noreferrer"},"Mattia Pera")," ","(USI, eLab)"))))}}]),a}(r.a.Component)),qe=(a(175),function(e){Object(E.a)(a,e);var t=Object(x.a)(a);function a(){return Object(v.a)(this,a),t.apply(this,arguments)}return Object(y.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Re.a,{container:!0,direction:"column",alignItems:"center",justify:"center",className:"container"},r.a.createElement(Re.a,null,r.a.createElement("h1",null,"DMLawTool"),r.a.createElement("h3",null,r.a.createElement("b",null,"About the DMLawTool:")),r.a.createElement("p",null,"The DMLawTool is a decision-tree tool developed by the Universit\xe0 della Svizzera italiana in collaboration with the University of Neuch\xe2tel within the P-5 program \u201cScientific Information\u201d of swissuniversities. It is available under the CC-BY-SA 4.0 license as an open source software.",r.a.createElement("br",null),"The tool guides researchers working mainly in the fields of humanities and social sciences through the most relevant legal issues related to data management. At the end of the process, the tool proposes different solution approaches on what can be done with research data and how it can be archived in a repository."),r.a.createElement("h3",null,r.a.createElement("b",null,"Disclaimer:")),r.a.createElement("p",null,"This tool is a basic guide with the only purpose of giving a general understanding on the main legal aspects of Copyright and Data Protection according to Swiss legislations and to the European General Data Protection Regulation as of March 2021."," ",r.a.createElement("br",null),"The tool is developed in a practical manner and it is written in a non-legal language. Its purpose is not to provide complete and tailored legal advice to the user\u2019s case, but to help researchers identify legal issues, and highlight clues that users may consider or implement with the help of specialists when necessary.",r.a.createElement("br",null),"If not indicated otherwise, the examples used are invented and have the only purpose of a better illustration of the information provided. All the information provided in this tool does not, and is not intended to, constitute legal or other professional advice.",r.a.createElement("br",null),"The user of this tool acknowledges that each situation must be judged on a case-by-case basis and must seek legal advice from a competent attorney to resolve their specific case with respect to any particular legal matter."),r.a.createElement("h3",null,r.a.createElement("b",null,"Copyright:")),r.a.createElement("p",null,"All text in this tool, except third party contents (e.g. quotes), is published under the Creative Commons Attribution Share Alike 4.0 International License. To view a copy of this license, visit"," ",r.a.createElement("a",{href:"https://creativecommons.org/licenses/by-sa/4.0/",target:"_blank",rel:"noopener noreferrer"},"this page.")))))}}]),a}(r.a.Component)),Pe=Object(c.a)((function(e){return{typography:{fontFamily:[""].join(",")},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontWeight:600,fontFamily:"Ropa Sans"}}}));var We=function(){var e=Pe();return r.a.createElement(l.a,null,r.a.createElement(p.b,{injectFirst:!0},r.a.createElement(d.a,{className:"app-bar",position:"static"},r.a.createElement(u.a,null,r.a.createElement(h.a,{variant:"h4",className:e.title},r.a.createElement(l.b,{className:"header__title",to:"/"},"DMLawTool")),r.a.createElement(l.b,{to:"/about",target:"_blank"},r.a.createElement(D.a,{className:"app-bar__item"},"About us")),r.a.createElement(l.b,{to:"/disclaimer",target:"_blank"},r.a.createElement(D.a,{className:"app-bar__item"},"Disclaimer")))),r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(Ae,null)),r.a.createElement(i.a,{exact:!0,path:"/about"},r.a.createElement(Fe,null)),r.a.createElement(i.a,{exact:!0,path:"/disclaimer"},r.a.createElement(qe,null)),r.a.createElement(i.a,{component:He}))))},Ue=a(86),Ge=Object(Ue.b)({name:"counter",initialState:{value:0},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}}}),Qe=Ge.actions,Ye=(Qe.increment,Qe.decrement,Qe.incrementByAmount,Ge.reducer),Ze=Object(Ue.a)({reducer:{counter:Ye,nodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NODES":case"FETCH_NODES_ERROR":return Object(m.a)(Object(m.a)({},e),{},{data:t.payload.data,tags:t.payload.tags});default:return e}},questions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_QUESTIONS":case"FETCH_QUESTIONS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{data:t.payload.data});default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_TAGS":case"FETCH_TAGS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{data:t.payload.data});default:return e}}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w.a,{store:Ze},r.a.createElement(We,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.6c7650cf.chunk.js.map