{"version":3,"sources":["app/actions/actions.js","app/actions/types.js","components/Home/Tree/Tree.js","components/ScrollDialog/ScrollDialog.js","components/Messages/MessageBasic.js","components/Messages/MessageButtons.js","components/MultiSelect/MultiSelect.js","components/Home/ChipsList/ChipsList.js","components/Home/Home.js","components/Error/NotFound.js","components/About/About.js","components/Disclaimer/Disclaimer.js","App.tsx","features/counter/counterSlice.ts","app/store.ts","app/reducers/nodesReducer.js","app/reducers/questionsReducer.js","app/reducers/tagsReducer.js","serviceWorker.ts","index.tsx"],"names":["getDistinctObjects","array","result","map","Map","item","has","id","set","push","unflatten","parent","tree","children","filter","child","parent_node","length","sort","a","b","parseInt","position","forEach","setError","error","type","Tree","props","openScrollDialog","node","setState","isOpen","currentNode","closeScrollDialog","resetAnimated","state","flattenedNodes","d","animated","setAnimated","find","data","update","root","handleClick","event","anchorEl","currentTarget","handleClose","handleSnackBarClose","snackBarOpen","resetZoom","baseSvg","transition","duration","call","zoom","scale","on","centerNode","centerTree","zoomIn","scaleBy","zoomOut","setInitialNodeState","collapseToInitialState","default_expanded","_children","expand","collapse","expandAll","onSearchChange","onTagChange","collapseAll","expandSpecific","searchTree","obj","search","path","label","i","found","pop","openPaths","paths","class","flatten","nodes","recurse","onSelectChange","select","d3","value","color","doReset","highlightPath","hoveredNode","targetNode","path_color","fill","that","searchText","each","body","this","description","toLowerCase","includes","style","classed","stroke","console","log","selectedTags","text_color","fill_gradient","tags","e","getBrighterFont","getBrighterLinearGradient","searchForNodes","matchedNodesTags","snackBarMessage","openPathToNodes","resetSearch","undefined","toggleChildren","source","t","x","y0","y","x0","k","viewerWidth","viewerHeight","zoomListener","transform","translate","click","stopPropagation","svgGroup","attr","diagonal","s","color1","color2","brighterGradient","chroma","alpha","rgba","fontColor","brighterFontColor","showTooltip","test","navigator","userAgent","tooltip","pageX","pageY","html","summary","hideTooltip","levelWidth","childCount","level","n","newHeight","treemap","size","treeData","descendants","links","slice","depth","maxLabelLength","count","selectAll","nodeEnter","exit","remove","enter","append","openDrawer","originalHeight","parentNode","expander","isroot","text","nodeUpdate","merge","clientHeight","getBBox","height","link","insert","o","showCloseBtn","closeBtn","className","onClick","hideCloseBtn","nodeId","open","defaultUpdate","document","getElementById","innerWidth","innerHeight","drawChart","prevProps","currentNodes","Button","aria-controls","aria-haspopup","marginRight","Menu","keepMounted","Boolean","onClose","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","ListItemIcon","fontSize","ListItemText","primary","Divider","Snackbar","autoHideDuration","SnackbarContent","message","jsonData","window","scaleExtent","Component","formattingElements","CustomChip","Chip","key","tag","backgroundColor","background_color","React","CustomTooltip","withStyles","border","Tooltip","ScrollDialog","newNodeDescription","nodeDescription","querySelector","spans","querySelectorAll","detail","filterSpanWithImgElements","span","strippedContent","stripFromElement","innerHTML","customReplaceAll","_s","_f","_r","_c","toString","r","indexOf","substring","element","split","join","escapeRegExp","stringToGoIntoTheRegex","replace","onbeforeunload","sidenav","scrollTop","oldProps","close","padding","width","textAlign","marginTop","t_description","placement","title","aria-label","Math","random","dangerouslySetInnerHTML","__html","MessageBasic","Card","message_label","Typography","gutterBottom","variant","component","useStyles","makeStyles","theme","margin","spacing","top","animationDuration","left","bottom","container","display","flexWrap","formControl","closeButton","right","palette","grey","chips","chip","noLabel","animatedComponents","makeAnimated","DialogSelect","classes","useState","setOpen","loading","setLoading","setTags","handleConfirm","useEffect","clear","colourStyles","control","styles","option","isDisabled","isFocused","isSelected","textColor","css","cursor","multiValue","borderRadius","multiValueLabel","justifyContent","alignItems","IconButton","closeDrawer","Dialog","disableBackdropClick","disableEscapeKeyDown","fullWidth","maxWidth","DialogTitle","DialogContent","paddingTop","paddingBottom","FormControl","maxMenuHeight","closeMenuOnSelect","components","onChange","selectedOptions","getOptionLabel","getOptionValue","isMulti","options","placeholder","DialogActions","CircularProgress","disabled","gridList","overflow","overflowX","light","titleBar","background","ChipsList","items","GridList","cols","cellHeight","GridListTile","renderClearButton","getGridTiles","Home","timeout","amount","randomAmount","floor","actualAmount","delay","ms","Promise","res","setTimeout","msgLoading","toggleMsgLoader","renderWelcomeMessage","welcomeMessage","welcomeStarted","renderCustomComponent","startGuided","questions","nextQuestion","handleNewUserMessage","newMessage","currentQuestion","guideStarted","deleteMessages","guided","addResponseMessage","question","matched","splittedMessage","questionSlice","opacity","setSelectedTags","inputChanged","handleInputSearch","keyCode","which","handleInputButtonSearch","handleFocus","target","openDialog","fetchNodes","fetchQuestions","toggleWidget","subtitle","onKeyPress","onFocus","connect","dispatch","fetch","then","response","json","uniqueTags","payload","catch","NotFound","href","About","Grid","direction","justify","rel","Disclaimer","typography","fontFamily","flexGrow","menuButton","fontWeight","App","StylesProvider","injectFirst","AppBar","Toolbar","to","exact","counterSlice","createSlice","name","initialState","reducers","increment","decrement","incrementByAmount","action","actions","store","configureStore","reducer","counter","counterReducer","location","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6c7650cf.chunk.js","sourcesContent":["import {\n  FETCH_NODES,\n  FETCH_NODES_ERROR,\n  FETCH_QUESTIONS,\n  FETCH_QUESTIONS_ERROR,\n  SET_ERROR,\n  HIDE_ERROR,\n} from './types';\n\nexport const fetchNodes = () => async (dispatch) => {\n  await fetch(`https://dmlawtool-admin.ccdigitallaw.ch/wp-json/wp/v2/nodes?per_page=100`)\n    .then((response) => response.json())\n    .then((jsonData) => {\n      // search for the parent\n      let parent = jsonData.find((node) => node.parent_node === false);\n\n      let tree = unflatten(jsonData, parent);\n      parent['children'] = tree;\n\n      let tags = [];\n\n      jsonData.forEach((node) => {\n        if (node.tags && node.tags.length > 0) tags = [...tags, ...node.tags];\n      });\n\n      let uniqueTags = getDistinctObjects(tags);\n\n      dispatch({\n        type: FETCH_NODES,\n        error: false,\n        payload: { data: parent, tags: uniqueTags },\n      });\n    })\n    .catch((error) => {\n      dispatch({\n        type: FETCH_NODES_ERROR,\n        error: true,\n        payload: { data: null, tags: null },\n      });\n      setError(\"Couldn't fetch nodes data from the server\");\n    });\n};\n\nexport const fetchQuestions = () => async (dispatch) => {\n  await fetch(`https://dmlawtool-admin.ccdigitallaw.ch/wp-json/wp/v2/questions?per_page=100`)\n    .then((response) => response.json())\n    .then((jsonData) => {\n      // search for the parent\n      let parent = jsonData.find((node) => node.parent_node === false);\n\n      let tree = unflatten(jsonData, parent);\n      parent['children'] = tree;\n\n      dispatch({\n        type: FETCH_QUESTIONS,\n        error: false,\n        payload: { data: parent },\n      });\n    })\n    .catch((error) => {\n      dispatch({\n        type: FETCH_QUESTIONS_ERROR,\n        error: true,\n        payload: { data: null },\n      });\n      setError(\"Couldn't fetch questions data from the server\");\n    });\n};\n\nfunction getDistinctObjects(array = []) {\n  const result = [];\n  const map = new Map();\n  for (const item of array) {\n    if (!map.has(item.id)) {\n      map.set(item.id, true); // set any value to Map\n      result.push(item);\n    }\n  }\n\n  return result;\n}\n\nfunction unflatten(array, parent, tree) {\n  tree = typeof tree !== 'undefined' ? tree : [];\n  parent = typeof parent !== 'undefined' ? parent : { id: 0 };\n\n  var children = array.filter(function (child) {\n    if (child.parent_node || child.parent_node.length) {\n      return child.parent_node[0].id === parent.id;\n    } else {\n      return false;\n    }\n  });\n\n  if (children.length > 0) {\n    if (!parent.parent_node) {\n      tree = children;\n    } else {\n      parent['children'] = children;\n    }\n    children.sort((a, b) => parseInt(a.position) - parseInt(b.position));\n    children.forEach(function (child) {\n      unflatten(array, child);\n    });\n  }\n\n  return tree;\n}\n\nexport function setError(error) {\n  return {\n    type: SET_ERROR,\n    error: error,\n  };\n}\n\nexport function hideError() {\n  return {\n    type: HIDE_ERROR,\n  };\n}\n","export const FETCH_NODES = 'FETCH_NODES';\nexport const FETCH_NODES_ERROR = 'FETCH_NODES_ERROR';\nexport const FETCH_QUESTIONS = 'FETCH_QUESTIONS';\nexport const FETCH_QUESTIONS_ERROR = 'FETCH_QUESTIONS_ERROR';\nexport const FETCH_TAGS = 'FETCH_TAGS';\nexport const FETCH_TAGS_ERROR = 'FETCH_TAGS_ERROR';\n\n// UI ERROR TYPES\nexport const SET_ERROR = 'SET_ERROR';\nexport const HIDE_ERROR = 'HIDE_ERROR';\n","import React, { Component } from 'react';\nimport * as d3 from 'd3v4';\n\nimport chroma from 'chroma-js';\n\n// Style\nimport './Tree.scss';\n\n// Material-UI\nimport CloseIcon from '@material-ui/icons/Close';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\n// import MuiAlert from '@material-ui/lab/Alert';\n\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CenterFocusStrongIcon from '@material-ui/icons/CenterFocusStrong';\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore';\nimport UnfoldLessIcon from '@material-ui/icons/UnfoldLess';\nimport ZoomInIcon from '@material-ui/icons/ZoomIn';\nimport ZoomOutIcon from '@material-ui/icons/ZoomOut';\nimport TuneIcon from '@material-ui/icons/Tune';\nimport IconButton from '@material-ui/core/IconButton';\nimport { Snackbar, SnackbarContent } from '@material-ui/core';\n\nclass Tree extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchText: '',\n      closeBtn: null,\n      nodeId: 0,\n      root: null,\n      baseSvg: null,\n      svgGroup: null,\n      treemap: null,\n      treeData: null,\n      zoomListener: null,\n      maxLabelLength: 15,\n      viewerWidth: 0,\n      viewerHeight: 0,\n      duration: 750,\n      zoom: null,\n      open: false,\n      snackBarOpen: false,\n      snackBarMessage: '',\n      anchorEl: null,\n\n      defaultUpdate: () => {},\n\n      isOpen: false,\n      currentNode: null,\n    };\n  }\n\n  async componentDidMount() {\n    await this.setState({\n      viewerWidth: document.getElementById('tree').innerWidth,\n      viewerHeight: document.getElementById('tree').innerHeight,\n    });\n    await this.drawChart();\n  }\n\n  async componentDidUpdate(prevProps) {\n    if (prevProps.search !== this.props.search) {\n      this.doReset();\n      await this.setState({ searchText: this.props.search });\n      this.onSearchChange();\n    }\n\n    if (prevProps.currentNodes !== this.props.currentNodes) {\n      this.resetAnimated();\n      this.doReset();\n\n      for (let i = 0; i < this.props.currentNodes.length; i++) {\n        await this.setState({ currentNodes: this.props.currentNodes });\n        this.setAnimated(this.props.currentNodes[i]);\n        this.highlightPath({ data: this.props.currentNodes[i] });\n      }\n    }\n\n    if (prevProps.selectedTags !== this.props.selectedTags) {\n      await this.setState({ selectedTags: this.props.selectedTags });\n      this.doReset();\n      await this.searchForNodes();\n      this.onTagChange();\n    }\n  }\n\n  openScrollDialog = (node = null) => {\n    this.setState({ isOpen: true, currentNode: node });\n  };\n\n  closeScrollDialog = () => {\n    this.setState({ isOpen: false, currentNode: null });\n  };\n\n  resetAnimated = () => {\n    this.state.flattenedNodes.forEach((d) => {\n      d.animated = false;\n    });\n  };\n\n  setAnimated = (node) => {\n    let find = this.state.flattenedNodes.find((d) => {\n      if (d.data.id === node.id) {\n        return true;\n      }\n    });\n\n    if (typeof find === 'undefined') {\n      return false;\n    }\n\n    while (find.parent) {\n      find.animated = true;\n      find = find.parent;\n    }\n\n    this.update(this.state.root);\n  };\n\n  handleClick = (event) => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = () => {\n    this.setState({ anchorEl: null });\n  };\n\n  render() {\n    return (\n      <div>\n        <div id=\"tree\">\n          <div className=\"bottom-toolbar\">\n            <Button\n              className=\"bottom-toolbar__menu-button\"\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={this.handleClick}\n            >\n              <TuneIcon style={{ marginRight: '7px' }} />\n              Tree utilities\n            </Button>\n            <Menu\n              id=\"simple-menu\"\n              anchorEl={this.state.anchorEl}\n              keepMounted\n              open={Boolean(this.state.anchorEl)}\n              onClose={this.handleClose}\n              getContentAnchorEl={null}\n              anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n              transformOrigin={{ vertical: 'top', horizontal: 'center' }}\n            >\n              <MenuItem onClick={this.centerTree}>\n                <ListItemIcon>\n                  <CenterFocusStrongIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Center Tree\" />\n              </MenuItem>\n              <Divider />\n              <MenuItem onClick={this.expandAll}>\n                <ListItemIcon>\n                  <UnfoldMoreIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Expand\" />\n              </MenuItem>\n              <MenuItem onClick={this.setInitialNodeState}>\n                <ListItemIcon>\n                  <UnfoldLessIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Collapse\" />\n              </MenuItem>\n              <Divider />\n              <MenuItem onClick={this.zoomIn}>\n                <ListItemIcon>\n                  <ZoomInIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Zoom in\" />\n              </MenuItem>\n              <MenuItem onClick={this.zoomOut}>\n                <ListItemIcon>\n                  <ZoomOutIcon fontSize=\"small\" />\n                </ListItemIcon>\n                <ListItemText primary=\"Zoom out\" />\n              </MenuItem>\n            </Menu>\n          </div>\n        </div>\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          open={this.state.snackBarOpen}\n          autoHideDuration={5000}\n          onClose={this.handleSnackBarClose}\n          // action={\n          //   <React.Fragment>\n          //     <IconButton\n          //       size=\"small\"\n          //       aria-label=\"close\"\n          //       color=\"inherit\"\n          //       onClick={this.handleSnackBarClose}\n          //     >\n          //       <CloseIcon fontSize=\"small\" />\n          //     </IconButton>\n          //   </React.Fragment>\n          // }\n        >\n          <SnackbarContent className=\"snackbar\" message={this.state.snackBarMessage} />\n        </Snackbar>\n      </div>\n    );\n  }\n\n  handleSnackBarClose = () => {\n    this.setState({ snackBarOpen: false });\n  };\n\n  resetZoom = () => {\n    this.state.baseSvg\n      .transition()\n      .duration(600)\n      .call(this.state.zoom.scale, 0.2)\n      .on('end', () => {\n        this.centerNode(this.state.root);\n      });\n  };\n\n  centerTree = () => {\n    this.handleClose(); // close the selection menu\n    this.centerNode(this.state.root);\n  };\n  zoomIn = () => this.state.baseSvg.transition().call(this.state.zoom.scaleBy, 2);\n  zoomOut = () => this.state.baseSvg.transition().call(this.state.zoom.scaleBy, 0.5);\n\n  async drawChart() {\n    /*Copyright (c) 2013-2016, Rob Schmuecker\n    All rights reserved.\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright notice, this\n      list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above copyright notice,\n      this list of conditions and the following disclaimer in the documentation\n      and/or other materials provided with the distribution.\n\n    * The name Rob Schmuecker may not be used to endorse or promote products\n      derived from this software without specific prior written permission.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n    DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,\n    INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n    BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n    DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n    OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,\n    EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.*/\n\n    // UTILITY METHODS\n\n    /************************************************************/\n\n    // root\n    let root = d3.hierarchy(this.props.jsonData, function (d) {\n      return d.children;\n    });\n\n    this.setState({\n      viewerWidth: window.innerWidth,\n      viewerHeight: window.innerHeight,\n    });\n\n    let treemap;\n\n    // define the this.state.zoomListener which calls the zoom function on the \"zoom\" event constrained within the scaleExtents\n    let zoomListener = d3.zoom().scaleExtent([0.1, 3]).on('zoom', this.zoom);\n    this.setState({ zoom: zoomListener });\n\n    // define the baseSvg, attaching a class for styling and the this.state.zoomListener\n    let baseSvg = d3\n      .select('#tree')\n      .append('svg')\n      .attr('width', '100%')\n      .attr('height', '100%')\n      .attr('pointer-events', 'all')\n      .attr('class', 'overlay')\n      .call(zoomListener);\n\n    // create a tooltip element\n    let tooltip = d3\n      .select('#tree')\n      .append('div')\n      .style('opacity', 0)\n      .attr('class', 'tooltip')\n      .style('background-color', 'white')\n      .style('position', 'absolute')\n      .style('border', 'solid')\n      .style('border-width', '2px')\n      .style('border-radius', '5px')\n      .style('z-index', 100)\n      .style('pointer-events', 'none')\n      .attr('transform', 'translate(' + 0 + ',' + 0 + ')');\n\n    // Append a group which holds all nodes and which the zoom Listener can act upon.\n    let svgGroup = baseSvg.append('g').attr('width', '2000px').attr('height', '2000px');\n\n    // Define the root\n    root.x0 = this.state.viewerHeight / 2;\n    root.x0 = 200;\n    root.y0 = 50;\n\n    this.setState({\n      root,\n      treemap,\n      treeData: this.props.treeData,\n      svgGroup,\n      baseSvg,\n      zoomListener,\n      tooltip,\n    });\n\n    // Layout the tree initially and center on the root node.\n\n    this.state.baseSvg.call(this.state.zoom.scaleBy, 0.35);\n\n    this.setInitialNodeState();\n\n    this.update(this.state.root);\n\n    await this.setState({ flattenedNodes: this.flatten(this.state.root) });\n    this.centerNode(this.state.root);\n  }\n\n  setInitialNodeState = () => {\n    this.handleClose(); // close the selection menu\n    this.collapseToInitialState(this.state.root);\n\n    this.update(this.state.root);\n    this.centerNode(this.state.root);\n  };\n\n  collapseToInitialState = (d) => {\n    this.update(this.state.root);\n\n    if (d.data.default_expanded === '1') d.children.forEach(this.collapseToInitialState);\n    if (d.data.default_expanded === '0' && d.children) {\n      d._children = d.children;\n      d._children.forEach(this.collapseToInitialState);\n      d.children = null;\n    }\n  };\n\n  expand = (d) => {\n    var children = d.children ? d.children : d._children;\n    if (d._children) {\n      d.children = d._children;\n      d._children = null;\n    }\n    if (children) children.forEach(this.expand);\n  };\n\n  collapse = (d) => {\n    if (d.children) {\n      d._children = d.children;\n      d._children.forEach(this.collapse);\n      d.children = null;\n    }\n  };\n\n  expandAll = async (event) => {\n    this.handleClose(); // close the selection menu\n    this.expand(this.state.root);\n    this.update(this.state.root);\n    this.centerNode(this.state.root);\n    this.onSearchChange();\n    this.onTagChange();\n  };\n\n  collapseAll = async () => {\n    this.collapse(this.state.root);\n    this.update(this.state.root);\n    this.centerNode(this.state.root);\n  };\n\n  expandSpecific = (d) => {\n    if (d._children && d.data.default_expanded) {\n      d.children = d._children;\n      d.children.forEach(this.expandSpecific);\n      d._children = null;\n    }\n  };\n\n  searchTree = (obj, search, path) => {\n    if (obj.data.label === search) {\n      path.push(obj);\n      return path;\n    } else if (obj.children || obj._children) {\n      //if children are collapsed d3 object will have them instantiated as _children\n      let children = obj.children ? obj.children : obj._children;\n      for (let i = 0; i < children.length; i++) {\n        path.push(obj); // we assume this path is the right one\n        let found = this.searchTree(children[i], search, path);\n        if (found) {\n          // we were right, this should return the bubbled-up path from the first if statement\n          return found;\n        } else {\n          //we were wrong, remove this parent from the path and continue iterating\n          path.pop();\n        }\n      }\n    } else {\n      //not the right object, return false so it will continue to iterate in the loop\n      return false;\n    }\n  };\n\n  openPaths = (paths) => {\n    for (let i = 0; i < paths.length; i++) {\n      if (paths[i].id !== '1') {\n        //i.e. not root\n        paths[i].class = 'found';\n        if (paths[i]._children) {\n          //if children are hidden: open them, otherwise: don't do anything\n          paths[i].children = paths[i]._children;\n          paths[i]._children = null;\n        }\n        this.update(paths[i]);\n      }\n    }\n  };\n\n  // Returns a list of all nodes under the root.\n  flatten = (root) => {\n    let nodes = [],\n      i = 0;\n\n    let recurse = (node) => {\n      if (node.children) node.children.forEach(recurse);\n      if (node._children) node._children.forEach(recurse);\n      if (!node.id) {\n        node.id = i++;\n      }\n      nodes.push(node);\n    };\n    recurse(root);\n\n    return nodes;\n  };\n\n  // dropdown select callback\n  onSelectChange = () => {\n    let select = d3.select('select').node().value;\n    if (select === 'Select') {\n      this.doReset();\n      return;\n    }\n    let find = this.flatten(this.state.root).find((d) => {\n      if (d.data.label === select) {\n        let paths = this.searchTree(this.state.root, d.data.label, []);\n\n        this.centerNode(d);\n        if (typeof paths !== 'undefined') {\n          this.openPaths(paths);\n        }\n        return true;\n      }\n    });\n\n    while (find.parent) {\n      find.color = 'red';\n      find = find.parent;\n    }\n\n    this.update(this.state.root);\n  };\n\n  /*\n    This method finds the node inside the flattened array and add a path_color property to each of his parents.\n    The update method will take care of changing the colors of the correct paths.\n  */\n  highlightPath = (hoveredNode) => {\n    if (!hoveredNode.data.label) {\n      this.doReset();\n      return;\n    }\n\n    if (hoveredNode.data.label === this.state.root.data.label) {\n      this.doReset();\n      return;\n    }\n\n    let find = this.state.flattenedNodes.find((d) => {\n      if (d.data.id === hoveredNode.data.id) {\n        return true;\n      }\n    });\n\n    if (typeof find === 'undefined') {\n      return;\n    }\n\n    let targetNode = find;\n\n    while (find.parent) {\n      find.path_color = targetNode.data.fill;\n      find = find.parent;\n    }\n\n    this.update(this.state.root);\n  };\n\n  /*\n    Search-bar callback\n  */\n  onSearchChange = () => {\n    let that = this;\n\n    if (!this.state.searchText) {\n      d3.selectAll('foreignObject')\n        .select('body')\n        .style('border', function (d) {\n          d3.select(this).classed('matchsearch', false);\n          if(d3.select(this).classed('hovered')) return '5px solid black'; \n          return '5px solid ' + d.data.stroke;\n        });\n\n      return;\n    }\n      d3.selectAll('foreignObject').each(function (d) {\n        let body = d3.select(this).select('body');\n\n        if (\n          d.data.description.toLowerCase().includes(that.state.searchText.toLowerCase()) ||\n          d.data.label.toLowerCase().includes(that.state.searchText.toLowerCase())\n        ) {\n          \n          body\n            .style('border', function (d) {\n              if(d3.select(this).classed('hovered')) return '5px solid black';\n              d3.select(this).classed('matchsearch', true);\n              return '8px solid #f74a27';\n            });\n        } else {\n          body\n            .style('border', function (d) {\n              if(d3.select(this).classed('hovered')) return '5px solid black'; \n              d3.select(this).classed('matchsearch', false);\n              return '5px solid ' + d.data.stroke;\n            });\n        }\n      });\n  };\n\n  /*\n    Invoked each time the props's tags change\n  */\n  onTagChange = async () => {\n    let that = this;\n\n    console.log('IM HERE');\n\n    if (!this.state.selectedTags || this.state.selectedTags.length === 0) {\n      d3.selectAll('foreignObject')\n        .select('body')\n        .classed('equalsFilter', true)\n        .style('color', function (d) {\n          return d.data.text_color;\n        })\n        .style('background', function (d) {\n          if (d.data.fill_gradient)\n            return `linear-gradient(0.25turn, ${d.data.fill},${d.data.fill_gradient})`;\n\n          return d.data.fill;\n        });\n      return;\n    }\n\n    d3.selectAll('foreignObject').each(function (d) {\n      let found = false;\n\n      if (!d.data.tags) {\n        d3.select(this)\n          .select('body')\n          .classed('equalsFilter', false)\n          .style('color', function (d) {\n            return that.getBrighterFont(d.data.text_color);\n          })\n          .style('background', function (d) {\n            return that.getBrighterLinearGradient(d.data.fill, d.data.fill_gradient);\n          });\n\n        return;\n      }\n\n      for (let i = 0; i < that.state.selectedTags.length; i++) {\n        if (\n          d.data.tags.filter(function (e) {\n            return e.label === that.state.selectedTags[i].label;\n          }).length > 0\n        ) {\n          d3.select(this)\n            .select('body')\n            .classed('equalsFilter', true)\n            .style('color', function (d) {\n              return d.data.text_color;\n            })\n            .style('background', function (d) {\n              if (d.data.fill_gradient)\n                return `linear-gradient(0.25turn, ${d.data.fill},${d.data.fill_gradient})`;\n\n              return d.data.fill;\n            });\n          return;\n        }\n      }\n\n      if (!found) {\n        d3.select(this)\n          .select('body')\n          .classed('equalsFilter', false)\n          .style('color', function (d) {\n            return that.getBrighterFont(d.data.text_color);\n          })\n          .style('background', function (d) {\n            return that.getBrighterLinearGradient(d.data.fill, d.data.fill_gradient);\n          });\n      }\n    });\n  };\n\n  searchForNodes = async () => {\n    // await this.setInitialNodeState();\n    let matchedNodesTags = [];\n    // let matchedNodesSearch = [];\n    // let matchedNodesFinal = [];\n\n    // if (this.state.searchText) {\n    //   await this.flatten(this.state.root).forEach((d) => {\n    //     if (\n    //       d.data.description.toLowerCase().includes(this.state.searchText.toLowerCase()) ||\n    //       d.data.label.toLowerCase().includes(this.state.searchText.toLowerCase())\n    //     ) {\n    //       matchedNodesSearch.push(d);\n    //     }\n    //   });\n    // }\n\n    if (this.state.selectedTags && this.state.selectedTags.length > 0) {\n      await this.flatten(this.state.root).forEach((d) => {\n        if (!d.data.tags) {\n          return;\n        }\n\n        for (let i = 0; i < this.state.selectedTags.length; i++) {\n          if (\n            d.data.tags.filter((e) => {\n              return e.label === this.state.selectedTags[i].label;\n            }).length > 0\n          ) {\n            matchedNodesTags.push(d);\n            return;\n          }\n        }\n      });\n    }\n    // matchedNodesFinal = [...matchedNodesTags];\n    // // merge the arrays\n    // matchedNodesSearch.forEach((node1) => {\n    //   let found = false;\n    //   matchedNodesTags.forEach((node2) => {\n    //     if (node1.data.id === node2.data.id) {\n    //       found = true;\n    //     }\n    //   });\n\n    //   if (!found) matchedNodesFinal.push(node1);\n    // });\n\n    if (matchedNodesTags.length === 1) {\n      await this.setState({\n        snackBarOpen: true,\n        snackBarMessage: `Found ${matchedNodesTags.length} node with the seleted Tags`,\n      });\n    }\n    if (matchedNodesTags.length > 1) {\n      await this.setState({\n        snackBarOpen: true,\n        snackBarMessage: `Found ${matchedNodesTags.length} nodes with the seleted Tags`,\n      });\n    }\n\n    await this.openPathToNodes(matchedNodesTags);\n    await this.centerTree();\n  };\n\n  openPathToNodes = async (nodes) => {\n    for (let i = 0; i < nodes.length; i++) {\n      let paths = await this.searchTree(this.state.root, nodes[i].data.label, []);\n\n      if (typeof paths !== 'undefined') {\n        this.openPaths(paths);\n      }\n    }\n  };\n\n  // Reset search-bar\n\n  resetSearch = () => {\n    this.setState({ searchText: '' });\n  };\n\n  // reset nodes\n\n  doReset = () => {\n    this.flatten(this.state.root).forEach((d) => {\n      // reset path and node colors\n      d.path_color = undefined;\n\n      if (d.class === 'found') {\n        d.class = '';\n      }\n    });\n    this.update(this.state.root);\n  };\n\n  // Toggle children function\n\n  toggleChildren = (d) => {\n    if (d.children) {\n      d._children = d.children;\n      d.children = null;\n    } else if (d._children) {\n      d.children = d._children;\n      d._children = null;\n    }\n    return d;\n  };\n\n  // center the view onto the node.\n  centerNode = (source) => {\n    let t = d3.zoomTransform(this.state.baseSvg.node());\n    let x = -source.y0;\n    let y = -source.x0;\n    x = x * t.k + this.state.viewerWidth / 2;\n    y = y * t.k + this.state.viewerHeight / 2;\n    this.state.baseSvg\n      .transition()\n      .duration(this.state.duration)\n      .call(this.state.zoomListener.transform, d3.zoomIdentity.translate(x, y).scale(t.k));\n  };\n\n  // Toggle children on click.\n  click = (d) => {\n    d3.event.stopPropagation();\n\n    // disable mouseenter and mouseleave events while nodes are expanding or collapsing\n    d3.selectAll('foreignObject')\n      .on('mouseenter', () => {})\n      .on('mouseleave', () => {});\n    d3.selectAll('foreignObject')\n      .select('body')\n      .on('mouseenter', () => {})\n      .on('mouseleave', () => {});\n    d3.selectAll('foreignObject')\n      .select('.node__container')\n      .on('mouseenter', () => {})\n      .on('mouseleave', () => {});\n    d3.selectAll('foreignObject')\n      .select('.node__label')\n      .on('mouseenter', () => {})\n      .on('mouseleave', () => {});\n\n    if (d.children) {\n      d._children = d.children;\n      d.children = null;\n    } else {\n      d.children = d._children;\n      d._children = null;\n    }\n\n    this.update(d);\n    this.centerNode(d);\n\n    this.onSearchChange();\n    this.onTagChange();\n  };\n\n  zoom = () => {\n    if (d3.event.transform != null) {\n      this.state.svgGroup.attr('transform', d3.event.transform);\n    }\n  };\n\n  /*\n    Compute the diagonal of the links between the nodes\n  */\n  diagonal = (s, d) => {\n    if (s != null && d != null) {\n      let path =\n        'M ' +\n        (s.y - 172) +\n        ' ' +\n        s.x +\n        ' C ' +\n        (s.y + d.y) / 2 +\n        ' ' +\n        s.x +\n        ',' +\n        (s.y + d.y) / 2 +\n        ' ' +\n        d.x +\n        ',' +\n        ' ' +\n        (d.y + 172) +\n        ' ' +\n        d.x;\n\n      return path;\n    }\n  };\n\n  /* \n    Compute a lighter gradient using chromajs\n  */\n  getBrighterLinearGradient = (color1, color2) => {\n    let fill = color1;\n    let brighterGradient = 'black';\n\n    if (fill) {\n      fill = chroma(fill).alpha(0.2).rgba();\n      brighterGradient = fill;\n    }\n\n    let fill_gradient = color2;\n\n    if (fill_gradient) {\n      fill_gradient = chroma(fill_gradient).alpha(0.2).rgba();\n      // prettier-ignore\n      brighterGradient = `linear-gradient(0.25turn, rgba(${fill}), rgba(${fill_gradient}))`;\n    }\n\n    return brighterGradient;\n  };\n\n  /*\n    Compute a brighter color for the font color code passed as argument using chromajs\n  */\n  getBrighterFont = (fontColor) => {\n    if (!fontColor) return 'black';\n    let brighterFontColor = chroma(fontColor).alpha(0.4).rgba();\n    return `rgba(${brighterFontColor})`;\n  };\n\n  /*\n    Show the main tooltip\n  */\n  showTooltip = (d) => {\n    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))\n      return;\n\n    this.state.tooltip\n      .transition()\n      .duration(400)\n      .style('opacity', 1)\n      .style('left', d3.event.pageX + 'px')\n      .style('top', d3.event.pageY + 'px');\n\n    this.state.tooltip.html(\n      `\n            <div class=\"ui card tooltip__container\">\n              <div class=\"content center tooltip__header\">\n                <h3 class=\"ui header\" style=\"margin:0;\">${d.data.label}</h3>\n              </div>\n              <div class=\"content tooltip__content\">\n                <div class=\"ui small feed\">\n                  <div class=\"event\">\n                    <div class=\"content\">\n                      <div class=\"summary\">\n                        <p>${d.data.summary}</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          `,\n    );\n  };\n\n  /*\n    Hide the main tooltip\n  */\n  hideTooltip = () => {\n    this.state.tooltip.transition().duration(10).style('opacity', 0);\n  };\n\n  /*\n    This function updates the tree by taking into consideration d3js's enter(), update() and exit() nodes.\n    Each of these three states can be used to manipulate and style the nodes. \n    The update function must be called each time we want to update the appereance of the tree.\n  */\n  update = (source) => {\n    let that = this;\n\n    // Compute the new height, function counts total children of root node and sets tree height accordingly.\n    // This prevents the layout looking squashed when new nodes are made visible or looking sparse when nodes are removed\n    // This makes the layout more consistent.\n    let levelWidth = [1];\n    let childCount = (level, n) => {\n      if (n.children && n.children.length > 0) {\n        if (levelWidth.length <= level + 1) levelWidth.push(0);\n\n        levelWidth[level + 1] += n.children.length;\n        n.children.forEach((d) => {\n          childCount(level + 1, d);\n        });\n      }\n    };\n\n    childCount(0, this.state.root);\n\n    let newHeight = d3.max(levelWidth) * 25; // 25 pixels per line\n\n    // Baum-Layout erzeugen und die Gren zuweisen\n    let treemap = d3.tree().size([newHeight, this.state.viewerWidth]);\n    this.setState({ treemap });\n\n    // Berechnung x- und y-Positionen pro Knoten\n    let treeData = treemap(this.state.root);\n    // Compute the new tree layout.\n    let nodes = treeData.descendants(),\n      links = treeData.descendants().slice(1);\n\n    // Set horizontal distance between levels based on maxLabelLength.\n    nodes.forEach((d) => {\n      d.y = d.depth * (this.state.maxLabelLength * 35); //maxLabelLength * 10px\n      // alternatively to keep a fixed scale one can set a fixed depth per level\n      // Normalize for fixed-depth by commenting out below line\n      d.y = d.depth * 690; //500px per level.\n    });\n\n    // Update vertical distance between nodes\n    nodes.forEach((d) => {\n      // spread out the vertical axis (if this isn't here, lines tend to overlap on denser graphs)\n      d.x = d.x * 15;\n    });\n\n    let count = 0;\n\n    // Update the node's ids, must be unique otherwise the enter(), update() and exit() methods won't work properly.\n    let node = this.state.svgGroup.selectAll('g.node').data(nodes, (d) => {\n      return d.id || (d.id = ++count);\n    });\n\n    // Transition exiting nodes to the parent's new position.\n    let nodeExit = node\n      .exit()\n      .transition()\n      .duration(this.state.duration)\n      .attr('transform', (d) => {\n        return 'translate(' + source.y0 + ',' + source.x0 + ')';\n      })\n      .remove();\n\n    // Enter any new nodes at the parent's previous position.\n    let nodeEnter = node\n      .enter()\n      .append('g') //.call(dragListener)\n      .attr('class', 'node')\n      .attr('transform', (d) => {\n        return 'translate(' + source.y0 + ',' + source.x0 + ')';\n      })\n      .on('click', (d) => {\n        d3.event.stopPropagation();\n        this.setState({ snackBarOpen: false });\n        this.hideTooltip();\n        this.props.openDrawer(d);\n        this.centerNode(d);\n      });\n\n    nodeEnter\n      .append('foreignObject')\n      .attr('width', 20)\n      .attr('height', function (d) {\n        d.originalHeight = 40;\n        return d.originalHeight;\n      })\n      .append('xhtml:body')\n      .classed('equalsFilter', true)\n      .style('font', \"25px 'Open Sans'\")\n      .attr('font-weight', 'bold')\n      .style('color', (d) => d.data.text_color)\n      .style('background', function (d) {\n        if (d.data.fill_gradient) {\n          return `linear-gradient(0.25turn, ${d.data.fill},${d.data.fill_gradient})`;\n        }\n        return d.data.fill;\n      })\n      .style('border-radius', '15px')\n      .style('border', (d) => {\n        return '5px solid ' + d.data.stroke;\n      })\n      .on('mouseenter', function (d) {\n        d3.event.stopPropagation();\n      })\n      .on('mouseleave', function (d) {\n        d3.event.stopPropagation();\n      })\n      .each(function (d) {\n        d3.select(this).html(\n          \"<div class='node__container'><p class='node__label'>\" + d.data.label + '</p></div>',\n        );\n      });\n\n    d3.selectAll('foreignObject')\n      .select('.node__container')\n      .on('mouseenter', function (d) {\n        d3.event.stopPropagation();\n        let parentNode = d3.select(this.parentNode);\n        \n\n        parentNode.classed('hovered', true);\n        parentNode.style('background', '#e8e8e8').style('border', '5px solid black').style('color', 'black');\n        d3.select(this).style('cursor', 'pointer'); // .style('text-decoration', 'underline');\n\n        if (d.data.summary) {\n          that.showTooltip(d);\n        }\n      })\n      .on('mouseleave', function (d) {\n        that.hideTooltip();\n\n        d3.event.stopPropagation();\n\n        let parentNode = d3.select(this.parentNode);\n\n        parentNode.classed('hovered', false);\n        parentNode\n          .style('color', function (d) {\n            if (!d3.select(this).classed('equalsFilter'))\n              return that.getBrighterFont(d.data.text_color);\n            return d.data.text_color;\n          })\n          .style('border', function (d) {\n            if(d3.select(this).classed('matchsearch')) return '8px solid #f74a27';\n            return '5px solid ' + d.data.stroke\n          })\n          .style('background', function (d) {\n            if (!d3.select(this).classed('equalsFilter')) {\n              return that.getBrighterLinearGradient(d.data.fill, d.data.fill_gradient);\n            }\n\n            if (d.data.fill_gradient) {\n              return `linear-gradient(\n                0.25turn,\n                ${d.data.fill},\n                ${d.data.fill_gradient}\n              )`;\n            }\n            return d.data.fill;\n          });\n\n        d3.select(this).style('cursor', 'initial'); //.style('text-decoration', 'initial');\n      });\n\n    // expand / collapse button\n    let expander = nodeEnter\n      .append('g')\n      .attr('class', 'expander')\n      .attr('display', function (d) {\n        if ((!d.children && !d._children) || d.data.isroot === '1') return 'none';\n      })\n      .on('click', this.click)\n      .on('mouseenter', function (d) {\n        d3.select(this).style('cursor', 'pointer');\n      })\n      .on('mouseleave', function (d) {\n        d3.select(this).style('cursor', 'initial');\n      });\n\n    expander\n      .append('circle')\n      .attr('class', 'expander__shape')\n      .attr('r', 25)\n      .attr('cx', 345 / 2);\n\n    expander\n      .append('text')\n      .style('fill', 'white')\n      .style('text-decoration', 'none')\n      .style('font-size', '40px')\n      .attr('class', 'expander__label')\n      .attr('dy', 11);\n\n    d3.selectAll('.expander__shape')\n      .style('stroke', function (d) {\n        return 'black';\n      })\n      .style('stroke-width', '5px')\n      .style('fill', function (d) {\n        if (!d._children && d.children) return '#d72a24';\n        if (d._children && !d.children) return '#067302';\n\n        return '';\n      });\n\n    d3.selectAll('.expander__label')\n      .attr('dx', function (d) {\n        if (!d._children && d.children) return 345 / 2 - 7;\n        if (d._children && !d.children) return 345 / 2 - 12;\n        return 0;\n      })\n      .text(function (d) {\n        if (!d._children && d.children) return '-';\n        if (d._children && !d.children) return '+';\n\n        return '';\n      });\n\n    // Transition nodes to their new position.\n    let nodeUpdate = nodeEnter.merge(node);\n\n    nodeUpdate\n      .transition()\n      .duration(this.state.duration)\n      .attr('transform', (d) => {\n        return 'translate(' + d.y + ',' + d.x + ')';\n      })\n      .on('end', () => {\n        this.onSearchChange();\n      });\n\n    nodeUpdate\n      .select('foreignObject')\n      .attr('width', 350)\n      .attr('height', function (d) {\n        let content = d3.select(this).select('.node__label');\n        return content.node().clientHeight + 30;\n      })\n      .attr('rx', '20px')\n      .attr('x', (d) => {\n        return -350 / 2;\n      })\n      .attr('y', function (d) {\n        return -d3.select(this).node().getBBox().height / 2;\n      });\n\n    // Update the links\n    let link = this.state.svgGroup.selectAll('path.tree-link').data(links, (d) => {\n      return d.id;\n    });\n\n    // Enter any new links at the parent's previous position.\n    var linkEnter = link.enter().insert('g', 'g').attr('class', 'link-group');\n\n    let linkElement = linkEnter\n      .append('path')\n      .attr('d', (d) => {\n        let o = { x: source.x0, y: source.y0 };\n        return this.diagonal(o, o);\n      })\n      .attr('class', 'link flowline tree-link')\n      .style('stroke', 'black')\n      .style('stroke-width', 30)\n      .style('fill', 'none');\n\n    // Transition links to their new position.\n    let linkUpdate = linkElement.merge(link);\n    linkUpdate\n      .transition()\n      .duration(this.state.duration)\n      .attr('d', (d) => {\n        return this.diagonal(d, d.parent);\n      });\n\n    // Transition exiting nodes to the parent's new position.\n    let linkExit = link\n      .exit()\n      .transition()\n      .duration(this.state.duration)\n      .attr('d', (d) => {\n        let o = { x: source.x, y: source.y };\n        return this.diagonal(o, o);\n      })\n      .remove();\n\n    d3.selectAll('.tree-link')\n      .style('stroke', (d) => {\n        if (typeof d === 'undefined') return;\n\n        if (d.animated && !d.path_color) return d.fill;\n        if (d.path_color) return d.path_color;\n\n        return 'gray';\n      })\n      .style('stroke-width', (d) => {\n        if (typeof d === 'undefined') return;\n\n        if (d.path_color) {\n          return '15px';\n        } else {\n          return 10;\n        }\n      })\n      .each(function (d) {\n        if (d.animated) {\n          d3.select(this).classed('animate', true);\n        } else {\n          d3.select(this).classed('animate', false);\n        }\n      });\n\n    // Stash the old positions for transition.\n    nodes.forEach((d) => {\n      d.x0 = d.x;\n      d.y0 = d.y;\n    });\n  };\n\n  showCloseBtn = () => {\n    this.setState({\n      closeBtn: (\n        <button className=\"searchButton closeButton\" onClick={this.resetSearch}>\n          <CloseIcon color=\"action\" />\n        </button>\n      ),\n    });\n  };\n\n  hideCloseBtn = () => {\n    this.setState({ closeBtn: null });\n  };\n}\n\nexport default Tree;\n","import React from 'react';\n\n// MaterialUI\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport './ScrollDialog.scss';\n\nconst formattingElements = [\n  '<b>',\n  '</b>',\n  '<strong>',\n  '</strong>',\n  '<i>',\n  '</i>',\n  '<em>',\n  '</em>',\n  '<mark>',\n  '</mark>',\n  '<small>',\n  '</small>',\n  '<del>',\n  '</del>',\n  '<ins>',\n  '</ins>',\n  '<sub>',\n  '</sub>',\n  '<sup>',\n  '</sup>',\n  '<span>',\n  '</span>',\n  '<p>',\n  '</p>',\n  '&nbsp;',\n  '&nbsp',\n  '&amp;',\n  '&amp',\n];\n\nclass CustomChip extends React.Component {\n  render() {\n    return (\n      <div>\n        <Chip\n          key={this.props.tag.id}\n          className=\"chip\"\n          color=\"primary\"\n          label={this.props.tag.label}\n          style={{\n            backgroundColor: this.props.tag.background_color,\n            color: this.props.tag.text_color,\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  tooltip: {\n    marginRight: '0px',\n    backgroundColor: 'white',\n    border: '1px solid #bdbdbd',\n  },\n};\n\nconst CustomTooltip = withStyles(styles)(Tooltip);\n\nexport default class ScrollDialog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: false,\n      newNodeDescription: '',\n      // newNodeDescription: '<span><p>This is a test string. Try this to <b>not</b> tags</p></span>',\n    };\n  }\n\n  componentDidMount() {\n    // reset the scroll when the user refreshes the page.\n    window.onbeforeunload = function () {\n      let sidenav = document.getElementById('node-sidenav');\n      if (sidenav) {\n        sidenav.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n      }\n    };\n  }\n\n  async componentDidUpdate(oldProps) {\n    let sidenav = document.getElementById('node-sidenav');\n    if (sidenav) {\n      if (this.props.node && oldProps.node && this.props.node.data.id !== oldProps.node.data.id)\n        sidenav.scrollTop = 0; // For Chrome, Firefox, IE and Opera\n    }\n\n    if (this.props.node && this.props.node !== oldProps.node) {\n      await this.setState({ newNodeDescription: '' });\n      this.searchText();\n    }\n\n    // try selecting all span elements with document.querySelectorAll and then highlight\n    if (oldProps.search !== this.props.search && this.props.node) {\n      this.searchText();\n    }\n  }\n\n  /*\n    Search callback. Searches for the word specified in the \"search\" prop.\n  */\n  searchText = async () => {\n    await this.setState({ newNodeDescription: this.props.node.data.description });\n\n    if (!this.props.search) {\n      return;\n    }\n\n    let nodeDescription = document.querySelector('.node__description');\n    let spans = [...nodeDescription.querySelectorAll('span')];\n    let details = nodeDescription.querySelectorAll('details');\n\n    details.forEach((detail) => {\n      detail.open = true;\n    });\n\n    if (spans) {\n      spans = spans.filter(this.filterSpanWithImgElements);\n      spans.forEach((span) => {\n        let strippedContent = this.stripFromElement(span, formattingElements);\n\n        span.innerHTML = strippedContent;\n        span.innerHTML = this.customReplaceAll(\n          span.innerHTML,\n          this.props.search,\n          `<mark>${this.props.search}</mark>`,\n          true,\n        );\n\n        // span.innerHTML = span.innerHTML.replaceAll(\n        //   this.props.search.toLowerCase(),\n        //   `<mark>${this.props.search}</mark>`,\n        // );\n      });\n    }\n  };\n\n  /*\n    This function allows to replace all occurences of a word with a given string.\n    It was implemented because the native javascript .replaceAll() function is not \n    able to do a case-insensitive search.\n  */\n  customReplaceAll = (_s, _f, _r, _c) => {\n    var o = _s.toString();\n    var r = '';\n    var s = o;\n    var b = 0;\n    var e = -1;\n    if (_c) {\n      _f = _f.toLowerCase();\n      s = o.toLowerCase();\n    }\n\n    // get the original string\n    let getChars = (original, startIndex, toBeReplaced) => {\n      let result = '';\n      let end = startIndex + toBeReplaced.length;\n\n      if (end > original.length) end = original.length;\n\n      for (let i = startIndex; i < end; i++) {\n        result += original.charAt(i);\n      }\n\n      return result;\n    };\n\n    while ((e = s.indexOf(_f)) > -1) {\n      // r += o.substring(b, b + e) + `<mark>${getChars(_s, e, _f)}</mark>`;\n      console.log(b, b + e, e, e + _f.length, e + _f.length, s.length);\n      // r += o.substring(b, b + e) + _r;\n      r += o.substring(b, b + e) + `<mark>${_s.substring(b + e, b + e + _f.length)}</mark>`;\n      s = s.substring(e + _f.length, s.length);\n      b += e + _f.length;\n    }\n\n    // Add Leftover\n    if (s.length > 0) {\n      r += o.substring(o.length - s.length, o.length);\n    }\n\n    // Return New String\n    return r;\n  };\n\n  /*\n    Strip out the formatting elements from the given element\n    arg1: Dom Node element, arg2: List of Strings containing the formatting elements\n  */\n  stripFromElement = (element, formattingElements) => {\n    let strippedContent = element.innerHTML;\n    for (let i = 0; i < formattingElements.length; i++) {\n      strippedContent = strippedContent.split(formattingElements[i]).join('');\n      // strippedContent = strippedContent.replaceAll(formattingElements[i], '');\n    }\n\n    return strippedContent;\n  };\n\n  /* \n    Check if the given element has a child img element\n    args: DOM Node element\n  */\n  filterSpanWithImgElements = (span) => {\n    if (\n      span.innerHTML.includes('<img') ||\n      span.innerHTML.includes('<span') ||\n      span.innerHTML.includes('<ol') ||\n      span.innerHTML.includes('<li')\n    ) {\n      return false;\n    }\n    return true;\n  };\n\n  escapeRegExp = (stringToGoIntoTheRegex) => {\n    return stringToGoIntoTheRegex.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  };\n\n  render() {\n    let tags = [];\n\n    if (this.props.node) {\n      this.props.node.data.tags ? (tags = this.props.node.data.tags) : (tags = []);\n    }\n\n    return (\n      <div>\n        {this.props.node ? (\n          <div id=\"node-sidenav\" className=\"sidenav scroll-content\">\n            <div className=\"closebtn__container\">\n              <button className=\"closebtn\" onClick={this.props.close}>\n                &times;\n              </button>\n            </div>\n            <div className=\"ui container\" style={{ padding: '10px' }}>\n              <div className=\"column centered\">\n                <div className=\"ui card\" style={{ width: '100%' }}>\n                  <div className=\"content\">\n                    <h2\n                      className=\"ui header\"\n                      style={{\n                        textAlign: 'center',\n                        marginTop: '10px',\n                      }}\n                    >\n                      <span>{this.props.node.data.label}</span>\n                    </h2>\n\n                    {tags.length > 0 ? (\n                      <div className=\"ui small feed\">\n                        <div className=\"ui divider\" />\n                        <div className=\"event\">\n                          <div className=\"content\" style={{ width: '100%' }}>\n                            <div className=\"chip__container\">\n                              {tags.map((tag) => {\n                                if (tag.t_description) {\n                                  return (\n                                    <CustomTooltip\n                                      key={tag.id}\n                                      placement=\"left\"\n                                      title={\n                                        <p\n                                          style={{\n                                            fontSize: '1.3em',\n                                            color: 'black',\n                                          }}\n                                        >\n                                          {tag.t_description}\n                                        </p>\n                                      }\n                                      aria-label=\"add\"\n                                    >\n                                      <div>\n                                        <CustomChip tag={tag}></CustomChip>\n                                      </div>\n                                    </CustomTooltip>\n                                  );\n                                } else {\n                                  return (\n                                    <div key={tag.id}>\n                                      <CustomChip tag={tag}></CustomChip>\n                                    </div>\n                                  );\n                                }\n                              })}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ) : null}\n                    <div className=\"ui divider\" />\n                    <div className=\"content node__description\">\n                      <div className=\"ui small feed\">\n                        <div className=\"event\">\n                          <div className=\"content\" style={{ width: '100%' }}>\n                            {!this.state.newNodeDescription ? (\n                              <div\n                                className=\"summary\"\n                                key={Math.random()}\n                                dangerouslySetInnerHTML={{\n                                  __html: this.props.node.data.description,\n                                }}\n                              ></div>\n                            ) : (\n                              <div\n                                className=\"summary\"\n                                key={Math.random()}\n                                dangerouslySetInnerHTML={{ __html: this.state.newNodeDescription }}\n                              ></div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div></div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\n// MaterialUI\nimport { Card, Typography } from '@material-ui/core';\n\nclass MessageBasic extends React.Component {\n  componentDidMount() {\n    // document.querySelector('.rcw-messages-container').scrollTop = 0;\n  }\n\n  render() {\n    return (\n      <Card className=\"message__body\">\n        {/* <CardContent> */}\n        {this.props.data.message_label ? (\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {this.props.data.message_label}\n          </Typography>\n        ) : null}\n        {/* <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\"> */}\n        {this.props.data.message ? (\n          // <Typography gutterBottom variant=\"body1\">\n          <div>\n            <div dangerouslySetInnerHTML={{ __html: this.props.data.message }}></div>\n          </div>\n        ) : // </Typography>\n        null}\n        <div className=\"divider\"></div>\n        {this.props.data.text && this.props.data.message ? (\n          // <Typography gutterBottom variant=\"body1\">\n          <Card className=\"message__body--darker\">\n            <div dangerouslySetInnerHTML={{ __html: this.props.data.text }}></div>\n          </Card>\n        ) : // </Typography>\n        null}\n        {this.props.data.text && !this.props.data.message ? (\n          // <Typography gutterBottom variant=\"body1\">\n          // <Card className=\"message__body\">\n          <div dangerouslySetInnerHTML={{ __html: this.props.data.text }}></div>\n        ) : // </Card>\n        // </Typography>\n        null}\n      </Card>\n    );\n  }\n}\n\nexport default MessageBasic;\n","import React from 'react';\n\n// MaterialUI\nimport { Card } from '@material-ui/core';\n\n// Styles\nimport './MessageButtons.scss';\n\nclass MessageButtons extends React.Component {\n  render() {\n    return (\n      <Card className=\"message__body message__body--buttons\">\n        <div className=\"message__buttons--container\">\n          {this.props.buttonA}\n          {this.props.buttonB}\n        </div>\n      </Card>\n    );\n  }\n}\n\nexport default MessageButtons;\n","import React, { useEffect } from 'react';\n\nimport chroma from 'chroma-js';\n\n// import Select from 'react-select';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Divider from '@material-ui/core/Divider';\nimport FormControl from '@material-ui/core/FormControl';\nimport IconButton from '@material-ui/core/IconButton';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport CloseIcon from '@material-ui/icons/Close';\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\n\nimport Select from 'react-select';\nimport makeAnimated from 'react-select/animated';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport './MultiSelect.scss';\nimport { CircularProgress, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    '& > svg': {\n      margin: theme.spacing(2),\n    },\n  },\n  top: {\n    color: '#1a90ff',\n    animationDuration: '550ms',\n    position: 'relative',\n    left: 0,\n    bottom: 0,\n  },\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    width: '100%',\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n  chips: {\n    display: 'flex',\n    flexWrap: 'wrap',\n  },\n  chip: {\n    margin: 2,\n  },\n  noLabel: {\n    marginTop: theme.spacing(3),\n  },\n}));\n\nconst animatedComponents = makeAnimated();\n\nexport default function DialogSelect(props) {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [tags, setTags] = React.useState([]);\n  const [selectedTags, setSelectedTags] = React.useState(props.selectedTags);\n\n  const handleChange = (event) => {\n    setTags(event.target.value);\n  };\n\n  const handleClickOpen = () => {\n    props.closeDrawer();\n    setOpen(true);\n  };\n\n  const handleReset = () => {\n    setTags([]);\n  };\n\n  const handleConfirm = async () => {\n    setLoading(true);\n    await setTags(tags);\n    await props.setTags(tags);\n    setLoading(false);\n    setOpen(false);\n  };\n\n  const handleClose = () => {\n    setTags(tags);\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    if (props.clear) {\n      setTags([]);\n    }\n  }, [props.clear]); // This will only run when one of those variables change\n\n  const colourStyles = {\n    control: (styles) => ({ ...styles, backgroundColor: 'white' }),\n    option: (styles, { data, isDisabled, isFocused, isSelected }) => {\n      const color = chroma(data.background_color);\n      const textColor = chroma(data.text_color);\n      return {\n        ...styles,\n        backgroundColor: isDisabled\n          ? null\n          : isSelected\n          ? data.background_color\n          : isFocused\n          ? color.alpha(0.3).css()\n          : null,\n        color: 'black',\n        cursor: isDisabled ? 'not-allowed' : 'default',\n\n        ':active': {\n          ...styles[':active'],\n          backgroundColor:\n            !isDisabled && (isSelected ? data.background_color : color.alpha(0.3).css()),\n          color: textColor.alpha(1).css(),\n        },\n      };\n    },\n    multiValue: (styles, { data }) => {\n      const color = chroma(data.background_color);\n      const textColor = chroma(data.text_color);\n      return {\n        ...styles,\n        borderRadius: '20px',\n        backgroundColor: color.alpha(1).css(),\n        color: textColor.alpha(1).css(),\n      };\n    },\n    multiValueLabel: (styles, { data }) => {\n      const textColor = chroma(data.text_color);\n      return {\n        ...styles,\n        color: textColor.alpha(1).css(),\n      };\n    },\n  };\n\n  const onSelectChange = (selectedOptions) => {\n    setTags(selectedOptions);\n  };\n\n  const sortByLabel = (a, b) => {\n    if (a.label < b.label) {\n      return -1;\n    }\n    if (a.label > b.label) {\n      return 1;\n    }\n    return 0;\n  };\n\n  return (\n    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n      <IconButton\n        onClick={handleClickOpen}\n        aria-label=\"delete\"\n        color=\"primary\"\n        className={classes.margin + ' ' + 'filter-button'}\n      >\n        <FilterListIcon />\n      </IconButton>\n      <Dialog\n        disableBackdropClick\n        disableEscapeKeyDown\n        open={open}\n        onClose={handleClose}\n        fullWidth={true}\n        maxWidth=\"xs\"\n      >\n        <DialogTitle>\n          <IconButton aria-label=\"close\" className={classes.closeButton} onClick={handleClose}>\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <Typography variant=\"h5\">\n            <LocalOfferIcon style={{ padding: '0' }} /> Filter by <strong>Tag</strong>\n          </Typography>\n          <Typography style={{ paddingTop: '20px', paddingBottom: '20px' }}>\n            A <strong>Tag</strong> represents a particular topic or word that describes a given Node\n            of the DMLawTool tree.\n            <br />\n            By selecting a tag you can filter nodes that share the same topic or definition.\n          </Typography>\n        </DialogContent>\n        <Divider />\n        <div>\n          <form className={classes.container}>\n            <FormControl className={classes.formControl}>\n              <Select\n                isDisabled={loading ? true : false}\n                styles={colourStyles}\n                maxMenuHeight={170}\n                closeMenuOnSelect={true}\n                components={animatedComponents}\n                onChange={onSelectChange}\n                getOptionLabel={(option) => option.label}\n                getOptionValue={(option) => option.label}\n                isMulti\n                options={props.options.sort(sortByLabel)}\n                value={tags}\n                placeholder=\"Select the tags...\"\n              />\n            </FormControl>\n          </form>\n        </div>\n        <Divider />\n        <DialogActions>\n          {loading ? <CircularProgress className={classes.top} size={20} /> : null}\n          <Button onClick={handleReset} disabled={loading ? true : false} color=\"primary\">\n            Reset\n          </Button>\n          <Button onClick={handleConfirm} disabled={loading ? true : false} color=\"primary\">\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from 'react';\n\n// MaterialUI\n\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport Chip from '@material-ui/core/Chip';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport './ChipsList.scss';\n\nconst useStyles = makeStyles((theme) => ({\n  gridList: {\n    cursor: 'default',\n    flexWrap: 'nowrap',\n    overflow: 'hidden',\n    overflowX: 'auto',\n    maxWidth: '300px',\n    height: '50px',\n    // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\n    transform: 'translateZ(0)',\n    backgroundColor: 'white',\n    color: 'rgba(49, 51, 49, 0.3)',\n    // boxShadow: '0 2px 5px 1px rgba(181, 181, 181, 0.4) !important',\n    borderRadius: '10px',\n    border: '1px solid rgba(49, 51, 49, 0.3)',\n    padding: '5px 0px',\n  },\n  title: {\n    color: theme.palette.primary.light,\n  },\n  titleBar: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n  },\n}));\n\nclass CustomChip extends React.Component {\n  render() {\n    return (\n      <Chip\n        key={this.props.item.id}\n        className=\"chip\"\n        color=\"primary\"\n        label={this.props.item.label}\n        style={{\n          backgroundColor: this.props.item.background_color,\n          color: this.props.item.text_color,\n        }}\n      />\n    );\n  }\n}\n\nconst styles = {\n  tooltip: {\n    marginTop: '5px',\n    backgroundColor: 'white',\n    border: '1px solid #bdbdbd',\n  },\n};\n\nconst CustomTooltip = withStyles(styles)(Tooltip);\n\nexport default function ChipsList(props) {\n  const classes = useStyles();\n\n  const getGridTiles = (item) => {\n    if (item.t_description) {\n      return (\n        <CustomTooltip\n          key={item.id}\n          title={\n            <p\n              style={{\n                marginTop: '2px',\n                fontSize: '1.3em',\n                color: 'black',\n              }}\n            >\n              {item.t_description}\n            </p>\n          }\n          aria-label=\"add\"\n        >\n          <GridListTile style={{ width: 'auto', marginTop: '2px' }} key={item.id}>\n            <CustomChip item={item}></CustomChip>\n          </GridListTile>\n        </CustomTooltip>\n      );\n    }\n    return (\n      <GridListTile style={{ width: 'auto' }} key={item.id}>\n        <CustomChip item={item}></CustomChip>\n      </GridListTile>\n    );\n  };\n\n  const renderClearButton = () => {\n    if (props.items && props.items.length > 0)\n      return (\n        <GridListTile style={{ width: 'auto' }}>\n          <div\n            className=\"delete-tile delete-tile--button\"\n            style={{\n              cursor: 'pointer',\n              color: 'black',\n            }}\n            onClick={props.clear}\n          >\n            <ClearIcon />\n          </div>\n        </GridListTile>\n      );\n  };\n\n  if (props.items && props.items.length > 0)\n    return (\n      <div style={{ margin: '0px 20px' }}>\n        <GridList className={classes.gridList} cols={2} cellHeight=\"auto\">\n          {renderClearButton()}\n          {!props.items || !props.items.length ? (\n            <GridListTile style={{ width: 'auto' }}>\n              <div className=\"delete-tile\">No Tags selected...</div>\n            </GridListTile>\n          ) : (\n            props.items.map((item) => {\n              return getGridTiles(item);\n            })\n          )}\n        </GridList>\n      </div>\n    );\n\n  return null;\n}\n","import React from 'react';\n\n// Redux\nimport { connect } from 'react-redux';\nimport { fetchNodes } from '../../app/actions/actions';\nimport { fetchQuestions } from '../../app/actions/actions';\n\n// Chat\nimport {\n  Widget,\n  addResponseMessage,\n  renderCustomComponent,\n  toggleWidget,\n  toggleMsgLoader,\n  deleteMessages,\n  toggleInputDisabled,\n} from 'react-chat-widget';\n\nimport 'react-chat-widget/lib/styles.css';\n\nimport './Home.scss';\n\n// Components\nimport Tree from './Tree/Tree.js';\nimport ScrollDialog from '../ScrollDialog/ScrollDialog';\nimport MessageBasic from '../Messages/MessageBasic';\nimport MessageButtons from '../Messages/MessageButtons';\n\nimport MultiSelect from '../MultiSelect/MultiSelect';\nimport ChipsList from './ChipsList/ChipsList';\nimport { IconButton } from '@material-ui/core';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchText: '',\n      open: false,\n      currentNode: null,\n      currentNodes: null,\n      tags: [],\n      nodes: [],\n      questions: [],\n      openDialog: false,\n      selectedTags: [],\n      clear: false,\n      guideStarted: false,\n      welcomeStarted: false,\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.fetchNodes();\n    await this.props.fetchQuestions();\n    await this.setState({\n      nodes: this.props.nodes,\n      questions: this.props.questions,\n      tags: this.props.tags,\n    });\n\n    // toggleInputDisabled();\n    await this.msgLoading(500);\n    toggleWidget();\n    await this.setState({ welcomeStarted: true });\n    await this.renderWelcomeMessage();\n    await this.setState({ guideStarted: true });\n    // toggleInputDisabled();\n  }\n\n  /*\n    Await a given / random amount delay in ms\n  */\n  timeout = async (amount = 0) => {\n    const randomAmount = Math.floor(Math.random() * 5) + 4 * 1000;\n    let actualAmount = amount ? amount : randomAmount;\n    const delay = (ms) => new Promise((res) => setTimeout(res, ms));\n    await delay(actualAmount);\n  };\n\n  /*\n    Simulate the chat bot writing animation\n  */\n  msgLoading = async (delay) => {\n    toggleMsgLoader();\n    await this.timeout(delay);\n    toggleMsgLoader();\n  };\n\n  renderWelcomeMessage = async () => {\n    let welcomeMessage = [\n      {\n        data: {\n          message_label: 'Hi there!',\n          text:\n            '<div><p>Welcome to DMLaw Tool!<br/>I am Lawly, your virtual assistant, and I will give you some tips on how to use the tool, but first a short reminder:</p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p>The goal of DMLaw Tool (Data Management Law Tool) is to guide researchers through the most relevant legal issues in research data management.</p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text: '<div><p>Lets now discover how it works: </p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p><ul><li>The tool is organized as a decision tree in which each node provides the necessary definitions and explanations to choose the next branch.</li></ul></p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p><ul><li>To see the definitions and explanations, simply click on the node</li></ul></p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p><ul><li>Click on the + symbol to open up the next branches of a node (or the - symbol to close the branches)</li></ul></p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p><ul><li>Different topics have different colors: Copyright nodes are in blue and Data Protection nodes in green</li></ul></p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p><ul><li>All end-nodes are marked as yellow. They contain solution approaches that can be applied once arrived at the end of a branch.</li></ul></p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p>You can search for specific terms by using the search box in the upper lefthand corner. All nodes that contain the word will be highlighted. You need to open up the tree to see all highlighted nodes. The term is highlighted in yellow within each text.You can also filter the contents by Tags. Each node has a series of tags that are shown at the beginning of each text and thus summarize the treated topics. When you filter by tags, the tree opens up automatically and shows all nodes that have the chosen tag(s).</p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p>Tree utilities at the bottom, allow to center the tree, expand or collapse its branches and to zoom in and out. </p></div>',\n        },\n      },\n      {\n        data: {\n          message_label: '',\n          text:\n            '<div><p>For any question regarding the tool or for more specific advice on the topics of copyright and data protection please write to: <address><a href=\"mailto:info@ccdigitallaw.ch\">info@ccdigitallaw.ch</a></address></p></div>',\n        },\n      },\n    ];\n    // let welcomeMessage = [\n    //   {\n    //     data: {\n    //       message_label: 'Hi there!',\n    //       text:\n    //         '<div><p> I am <strong>Lawly</strong>, your virtual guide through the DMLawTool.<br/>I will guide you through the main legal issues that you have to consider when dealing with your research data.</p></div>',\n    //     },\n    //   },\n    //   {\n    //     data: {\n    //       message_label: '',\n    //       text:\n    //         '<div><p>If you prefer navigating the tool by yourself, simply close the chatbot and follow the different branches. You can come back to the virtual assistant anytime.</p></div>',\n    //     },\n    //   },\n    //   {\n    //     data: {\n    //       message_label: '',\n    //       text:\n    //         '<div><p>Now, let me ask you some questions to address you to the right branche(s) of the DMLaw tree.<br/><strong>Tap the button below when you are ready!</strong></p></div>',\n    //     },\n    //   },\n    // ];\n\n    for (let i = 0; i < welcomeMessage.length; i++) {\n      await this.msgLoading();\n      // renderCustomComponent(MessageBasic, welcomeMessage[i]);\n      if (this.state.welcomeStarted) {\n        renderCustomComponent(MessageBasic, welcomeMessage[i]);\n      } else {\n        return;\n      }\n    }\n\n    // renderCustomComponent(MessageButtons, {\n    //   buttonB: (\n    //     <button\n    //       id=\"start-guided\"\n    //       className=\"ui button primary message__button\"\n    //       onClick={(event) => {\n    //         event.stopPropagation();\n    //         this.setState({ currentQuestion: null });\n    //         this.handleNewUserMessage('yes');\n    //       }}\n    //     >\n    //       Let's go!\n    //     </button>\n    //   ),\n    // });\n\n    await this.setState({ welcomeStarted: false });\n  };\n\n  startGuided = async () => {\n    if (this.state.questions == null) return;\n    this.nextQuestion(this.state.questions);\n  };\n\n  handleNewUserMessage = async (newMessage) => {\n    if (newMessage.toLowerCase() === 'start' && !this.state.welcomeStarted) {\n      // await deleteMessages();\n      await this.setState({\n        currentQuestion: null,\n        currentNodes: [],\n        guideStarted: false,\n        welcomeStarted: true,\n      });\n      await this.renderWelcomeMessage();\n      await this.setState({ guideStarted: true });\n      return;\n    } else if (newMessage.toLowerCase() === 'clear' && !this.state.welcomeStarted) {\n      this.setState({\n        currentQuestion: null,\n        currentNodes: [],\n        guideStarted: false,\n        welcomeStarted: true,\n      });\n      await deleteMessages();\n      await this.renderWelcomeMessage();\n      await this.setState({ guideStarted: true });\n\n      document.getElementById('start-guided').disabled = true;\n\n      return;\n    }\n\n    await this.guided(newMessage);\n  };\n\n  guided = async (message) => {\n    if (this.state.guideStarted) {\n      if (!this.state.currentQuestion) {\n        if (message.toLowerCase() === 'yes' || message.toLowerCase() === 'y') {\n          document.getElementById('start-guided').disabled = true;\n          this.startGuided();\n        } else if (message.toLowerCase() === 'no' || message.toLowerCase() === 'n') {\n          renderCustomComponent(MessageBasic, {\n            data: {\n              message_label: '',\n              text:\n                '<div><p>Thank you for letting us know your preference! If you feel stuck at a certain point of your journey, you can always switch your navigation method into guided by typing <strong>Start</strong>!</p></div>',\n            },\n          });\n        } else {\n          await this.msgLoading();\n          addResponseMessage(\n            \"The request couldn' be satisfied, be sure to type the correct option...\",\n          );\n        }\n      } else {\n        let question = this.state.currentQuestion;\n\n        let matched = false;\n\n        for (let i = 0; i < question.children.length; i++) {\n          let child = question.children[i];\n\n          if (message.toLowerCase() === child.label.toLowerCase()) {\n            await this.msgLoading();\n            await this.nextQuestion(child);\n\n            if (child.nodes && child.nodes.length) {\n              document.getElementById('start-guided').disabled = false;\n\n              this.setState({\n                currentNodes: child.nodes,\n                currentQuestion: null,\n                startGuided: false,\n              });\n\n              await this.msgLoading();\n              renderCustomComponent(MessageBasic, {\n                data: {\n                  message_label: '',\n                  text:\n                    '<div><p>If you want to answer the questions again just type <b>start</b>!</p></div>',\n                },\n              });\n            }\n\n            matched = true;\n            break;\n          }\n        }\n\n        if (!matched && !this.state.startGuided) {\n          addResponseMessage(\n            \"The request couldn' be satisfied, be sure to type the correct option...\",\n          );\n        }\n      }\n    }\n  };\n\n  nextQuestion = async (question) => {\n    if (!question) return;\n    this.setState({ currentQuestion: question });\n\n    let splittedMessage = [];\n\n    if (question.message) {\n      splittedMessage = question.message.split('<p>...</p>');\n\n      let questionSlice = {};\n      for (let i = 0; i < splittedMessage.length; i++) {\n        if (i === 0) {\n          questionSlice = { ...question };\n          questionSlice.message = splittedMessage[i];\n        } else {\n          questionSlice = {\n            message: splittedMessage[i],\n            text: '',\n          };\n        }\n        await this.msgLoading(2500);\n\n        if (this.state.guideStarted) renderCustomComponent(MessageBasic, { data: questionSlice });\n        else return;\n      }\n    }\n  };\n\n  openDrawer = (node) => {\n    this.setState({ open: true, currentNode: node });\n\n    // setBadgeCount(3);\n    document.getElementById('node-sidenav').style.opacity = 1;\n    if (window.innerWidth <= 800) document.getElementById('node-sidenav').style.width = '100%';\n    else document.getElementById('node-sidenav').style.width = '600px';\n    document.getElementById('node-sidenav').style.height = '100%';\n  };\n\n  closeDrawer = () => {\n    if (!this.state.open) return;\n    document.getElementById('node-sidenav').style.opacity = 0;\n    document.getElementById('node-sidenav').style.width = '0';\n    document.getElementById('node-sidenav').style.height = '0';\n    this.setState({ open: false, currentNode: null });\n  };\n\n  setSelectedTags = async (tags) => {\n    this.closeDrawer();\n\n    if (tags && !tags.length) {\n      await this.setState({ clear: true });\n      await this.setState({ clear: false });\n    }\n    this.setState({ selectedTags: tags });\n  };\n\n  /*\n    Callback called when the search-box input changes\n  */\n  inputChanged = () => {\n    const searchText = document.querySelector('.search-input').value;\n    if (!searchText) this.setState({ searchText });\n  };\n\n  /*\n    Callback called when the input is focused and the user presses enter (key code 13)\n  */\n  handleInputSearch = (e) => {\n    let key = e.keyCode || e.which;\n    if (key === 13) {\n      const searchText = document.querySelector('.search-input').value;\n      this.setState({ searchText });\n    }\n  };\n\n  /*\n    Callback called when the search button is pressed\n  */\n  handleInputButtonSearch = () => {\n    const searchText = document.querySelector('.search-input').value;\n    this.setState({ searchText });\n  };\n\n  handleFocus = (e) => {\n    e.target.select();\n  };\n\n  render() {\n    return (\n      <div>\n        <ScrollDialog\n          node={this.state.currentNode}\n          isOpen={this.state.open}\n          open={this.openDrawer}\n          close={this.closeDrawer}\n          search={this.state.searchText}\n        ></ScrollDialog>\n        <Widget title=\"Lawly\" subtitle=\"\" handleNewUserMessage={this.handleNewUserMessage} />\n        <div className=\"toolbar\">\n          <div className=\"toolbar__col toolbar__col--center\">\n            <div className=\"ui icon input toolbar__search\">\n              <input\n                className=\"search-input toolbar__search__input\"\n                type=\"text\"\n                placeholder=\"Search for a word...\"\n                onChange={this.inputChanged}\n                onKeyPress={this.handleInputSearch}\n                onFocus={this.handleFocus}\n              />\n              <IconButton\n                className=\"toolbar__search__button\"\n                onClick={this.handleInputButtonSearch}\n              >\n                <i className=\"search icon toolbar__search__button__icon\"></i>\n              </IconButton>\n            </div>\n          </div>\n          <div className=\"toolbar__col toolbar__col--center\">\n            <MultiSelect\n              options={this.state.tags}\n              clear={this.state.clear}\n              closeDrawer={this.closeDrawer}\n              setTags={this.setSelectedTags}\n            ></MultiSelect>\n          </div>\n          <div className=\"toolbar__col toolbar__col--start\">\n            <ChipsList\n              items={this.state.selectedTags}\n              clear={() => this.setSelectedTags([])}\n            ></ChipsList>\n          </div>\n        </div>\n        {this.props.nodes ? (\n          <div>\n            <Tree\n              search={this.state.searchText}\n              openDrawer={this.openDrawer}\n              closeDrawer={this.closeDrawer}\n              currentNodes={this.state.currentNodes}\n              jsonData={this.props.nodes}\n              selectedTags={this.state.selectedTags}\n            ></Tree>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    nodes: state.nodes.data,\n    tags: state.nodes.tags,\n    questions: state.questions.data,\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchNodes,\n  fetchQuestions,\n})(Home);\n","import React from 'react';\n\nimport { Button, Typography } from '@material-ui/core';\n\nimport './NotFound.scss';\n\nclass NotFound extends React.Component {\n  render() {\n    return (\n      <div className=\"notfound\">\n        <div className=\"notfound__container\">\n          <Typography className=\"notfound__title\" variant=\"h2\">\n            404 - Not found\n          </Typography>\n          <Typography className=\"notfound__body \">\n            The requested page does not exist. Click on the button below to return to the homepage.\n          </Typography>\n          <Button className=\"notfound__button\" href=\"/\">\n            Homepage\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import { Card, Grid, Paper } from '@material-ui/core';\nimport React from 'react';\n\nimport './About.scss';\n\nclass About extends React.Component {\n  render() {\n    return (\n      <div>\n        {/* <Paper elevation={2} className=\"paper\"> */}\n        {/* <div className=\"image__container\">\n            <img className=\"image\" src={judgeImage} alt=\"judge\" />\n          </div> */}\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"center\"\n          className=\"container\"\n        >\n          <Grid>\n            {/* <Card> */}\n            <h1>About us</h1>\n            <p>\n              DMLawTool has been developed by the Universit della Svizzera italiana (USI) in\n              collaboration with the University of Neuchtel (UNINE) within the P-5 programme\n              Scientific information of swissuniversities. The tool has been officially launched\n              at the end of March, 2021, and will be available to everyone for free from the{' '}\n              <a\n                href=\"https://ccdigitallaw.ch/index.php/english\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                CCdigitallaw.ch\n              </a>{' '}\n              platform.\n            </p>\n            <h3>\n              <b>Coordination:</b>\n            </h3>\n            <p>\n              <a\n                href=\"https://search.usi.ch/en/people/9fd3744cedf324e92e975988ae7e6d58/picco-schwendener-anna\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Dr. Anna Picco-Schwendener\n              </a>{' '}\n              (USI, eLab,{' '}\n              <a\n                href=\"https://ccdigitallaw.ch/index.php/english\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                CCdigitallaw.ch\n              </a>\n              ) with the support of{' '}\n              <a\n                href=\"https://search.usi.ch/people/61cb45bbf00a7cb11e9a92ce0427566d/trifkovic-branislava\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Branislava Trifkovic\n              </a>{' '}\n              (USI, eLab).\n            </p>\n            <h3>\n              <b>Content development:</b>\n            </h3>\n            <p>\n              <b>Legal aspects</b>:<br></br>\n              <a\n                href=\"https://search.usi.ch/en/people/a9eb2f1f9487f36a65cf66ca11cf6faf/marazza-suzanna\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Suzanna Marazza\n              </a>{' '}\n              (USI, eLab, CCdigitallaw) and{' '}\n              <a\n                href=\"https://www.unine.ch/droit/home/enseignants_1/assistantes/yves-bauer.html\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Yves Bauer\n              </a>{' '}\n              (UNINE) under the scientific supervision of{' '}\n              <a\n                href=\"https://www.unine.ch/nathalie.tissot/home.html\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Prof. Nathalie Tissot\n              </a>{' '}\n              (UNINE) <br></br>\n              <br></br>\n              <b>Narrative design and content organization:</b>\n              <br></br>\n              <a\n                href=\"https://search.usi.ch/en/people/9fd3744cedf324e92e975988ae7e6d58/picco-schwendener-anna\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Dr. Anna Picco-Schwendener\n              </a>{' '}\n              with the support of{' '}\n              <a\n                href=\"https://search.usi.ch/people/61cb45bbf00a7cb11e9a92ce0427566d/trifkovic-branislava\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Branislava Trifkovic\n              </a>{' '}\n              <br></br>\n              <br></br>\n              <b>Technical implementation:</b>\n              <br></br>{' '}\n              <a\n                href=\"https://search.usi.ch/people/6bd65192ce96d221cf29e3457a86b412/pavic-ivan\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Ivan Pavic\n              </a>{' '}\n              (USI, eLab) <br></br>\n              <br></br>\n              <b>Graphic design:</b>\n              <br></br>\n              <a\n                href=\"https://search.usi.ch/en/people/5ce5f550b7261cc6a8dfda3e142eb58c/pera-mattia\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Mattia Pera\n              </a>{' '}\n              (USI, eLab)\n            </p>\n            {/* </Card> */}\n          </Grid>\n        </Grid>\n        {/* <Card>\n          <h1>About us</h1>\n          <p>\n            DMLawTool has been developed by the Universit della Svizzera italiana (USI) in\n            collaboration with the University of Neuchtel (UNINE) within the P-5 programme\n            Scientific information of swissuniversities. The tool has been officially launched at\n            the end of March, 2021, and will be available to everyone for free from the\n            CCdigitallaw.ch platform. Coordination: Dr. Anna Picco-Schwendener (USI, eLab,\n            CCdigitallaw.ch) with the support of Branislava Trifkovic (USI, eLab). Content\n            development: Legal aspects: Suzanna Marazza (USI, eLab, CCdigitallaw) and Yves Bauer\n            (UNINE) under the scientific supervision of Prof. Nathalie Tissot (UNINE) Narrative\n            design and content organization: Dr. Anna Picco-Schwendener with the support of\n            Branislava Trifkovic Technical implementation: Ivan Pavic (USI, eLab) Graphic design:\n            Mattia Pera (USI, eLab)\n          </p>\n        </Card> */}\n        {/* </Paper> */}\n      </div>\n    );\n  }\n}\n\nexport default About;\n","import { Card, Grid, Paper } from '@material-ui/core';\nimport React from 'react';\n\nimport './Disclaimer.scss';\n\nclass Disclaimer extends React.Component {\n  render() {\n    return (\n      <div>\n        {/* <Paper elevation={2} className=\"paper\"> */}\n        {/* <div className=\"image__container\">\n            <img className=\"image\" src={judgeImage} alt=\"judge\" />\n          </div> */}\n        <Grid\n          container\n          direction=\"column\"\n          alignItems=\"center\"\n          justify=\"center\"\n          className=\"container\"\n        >\n          <Grid>\n            {/* <Card> */}\n            <h1>DMLawTool</h1>\n\n            <h3>\n              <b>About the DMLawTool:</b>\n            </h3>\n            <p>\n              The DMLawTool is a decision-tree tool developed by the Universit della Svizzera\n              italiana in collaboration with the University of Neuchtel within the P-5 program\n              Scientific Information of swissuniversities. It is available under the CC-BY-SA 4.0\n              license as an open source software.\n              <br />\n              The tool guides researchers working mainly in the fields of humanities and social\n              sciences through the most relevant legal issues related to data management. At the end\n              of the process, the tool proposes different solution approaches on what can be done\n              with research data and how it can be archived in a repository.\n            </p>\n            <h3>\n              <b>Disclaimer:</b>\n            </h3>\n            <p>\n              This tool is a basic guide with the only purpose of giving a general understanding on\n              the main legal aspects of Copyright and Data Protection according to Swiss\n              legislations and to the European General Data Protection Regulation as of March 2021.{' '}\n              <br />\n              The tool is developed in a practical manner and it is written in a non-legal language.\n              Its purpose is not to provide complete and tailored legal advice to the users case,\n              but to help researchers identify legal issues, and highlight clues that users may\n              consider or implement with the help of specialists when necessary.\n              <br />\n              If not indicated otherwise, the examples used are invented and have the only purpose\n              of a better illustration of the information provided. All the information provided in\n              this tool does not, and is not intended to, constitute legal or other professional\n              advice.\n              <br />\n              The user of this tool acknowledges that each situation must be judged on a\n              case-by-case basis and must seek legal advice from a competent attorney to resolve\n              their specific case with respect to any particular legal matter.\n            </p>\n            <h3>\n              <b>Copyright:</b>\n            </h3>\n            <p>\n              All text in this tool, except third party contents (e.g. quotes), is published under\n              the Creative Commons Attribution Share Alike 4.0 International License. To view a copy\n              of this license, visit{' '}\n              <a\n                href=\"https://creativecommons.org/licenses/by-sa/4.0/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                this page.\n              </a>\n            </p>\n            {/* </Card> */}\n          </Grid>\n        </Grid>\n        {/* <Card>\n          <h1>About us</h1>\n          <p>\n            DMLawTool has been developed by the Universit della Svizzera italiana (USI) in\n            collaboration with the University of Neuchtel (UNINE) within the P-5 programme\n            Scientific information of swissuniversities. The tool has been officially launched at\n            the end of March, 2021, and will be available to everyone for free from the\n            CCdigitallaw.ch platform. Coordination: Dr. Anna Picco-Schwendener (USI, eLab,\n            CCdigitallaw.ch) with the support of Branislava Trifkovic (USI, eLab). Content\n            development: Legal aspects: Suzanna Marazza (USI, eLab, CCdigitallaw) and Yves Bauer\n            (UNINE) under the scientific supervision of Prof. Nathalie Tissot (UNINE) Narrative\n            design and content organization: Dr. Anna Picco-Schwendener with the support of\n            Branislava Trifkovic Technical implementation: Ivan Pavic (USI, eLab) Graphic design:\n            Mattia Pera (USI, eLab)\n          </p>\n        </Card> */}\n        {/* </Paper> */}\n      </div>\n    );\n  }\n}\n\nexport default Disclaimer;\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\n// Wrap the app into this component so that our custom styles are injected last\r\nimport { StylesProvider } from '@material-ui/styles';\r\n\r\n// import { Counter } from './features/counter/Counter';\r\nimport Home from './components/Home/Home.js';\r\n\r\n// Assets\r\nimport logo from './images/logo.png';\r\n\r\n// Styles\r\nimport './App.scss';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport NotFound from './components/Error/NotFound.js';\r\nimport About from './components/About/About.js';\r\nimport { Box, Button } from '@material-ui/core';\r\nimport Disclaimer from './components/Disclaimer/Disclaimer.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  typography: {\r\n    fontFamily: [''].join(','),\r\n  },\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    fontWeight: 600,\r\n    fontFamily: 'Ropa Sans',\r\n  },\r\n}));\r\n\r\n// Although the page does not ever refresh, notice how\r\n// React Router keeps the URL up to date as you navigate\r\n// through the site. This preserves the browser history,\r\n// making sure things like the back button and bookmarks\r\n// work properly.\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Router>\r\n      <StylesProvider injectFirst>\r\n        <AppBar className=\"app-bar\" position=\"static\">\r\n          <Toolbar>\r\n            {/* <IconButton\r\n              edge=\"start\"\r\n              className={classes.menuButton}\r\n              color=\"inherit\"\r\n              aria-label=\"menu\"\r\n            >\r\n              <img className=\"app-bar__logo\" src={logo} alt=\"logo\"></img>\r\n            </IconButton> */}\r\n            <Typography variant=\"h4\" className={classes.title}>\r\n              <Link className=\"header__title\" to=\"/\">\r\n                DMLawTool\r\n              </Link>\r\n            </Typography>\r\n            <Link to=\"/about\" target=\"_blank\">\r\n              <Button className=\"app-bar__item\">About us</Button>\r\n            </Link>\r\n            <Link to=\"/disclaimer\" target=\"_blank\">\r\n              <Button className=\"app-bar__item\">Disclaimer</Button>\r\n            </Link>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Home />\r\n          </Route>\r\n          <Route exact path=\"/about\">\r\n            <About />\r\n          </Route>\r\n          <Route exact path=\"/disclaimer\">\r\n            <Disclaimer />\r\n          </Route>\r\n          <Route component={NotFound} />\r\n        </Switch>\r\n      </StylesProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, RootState } from '../../app/store';\n\ninterface CounterState {\n  value: number;\n}\n\nconst initialState: CounterState = {\n  value: 0,\n};\n\nexport const counterSlice = createSlice({\n  name: 'counter',\n  initialState,\n  reducers: {\n    increment: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      state.value += 1;\n    },\n    decrement: (state) => {\n      state.value -= 1;\n    },\n    // Use the PayloadAction type to declare the contents of `action.payload`\n    incrementByAmount: (state, action: PayloadAction<number>) => {\n      state.value += action.payload;\n    },\n  },\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched\nexport const incrementAsync = (amount: number): AppThunk => (dispatch) => {\n  setTimeout(() => {\n    dispatch(incrementByAmount(amount));\n  }, 1000);\n};\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const selectCount = (state: RootState) => state.counter.value;\n\nexport default counterSlice.reducer;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\r\nimport counterReducer from '../features/counter/counterSlice';\r\nimport nodesReducer from './reducers/nodesReducer';\r\nimport questionsReducer from './reducers/questionsReducer';\r\nimport tagsReducer from './reducers/tagsReducer';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    counter: counterReducer,\r\n    nodes: nodesReducer,\r\n    questions: questionsReducer,\r\n    tags: tagsReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n  ReturnType,\r\n  RootState,\r\n  unknown,\r\n  Action<string>\r\n>;\r\n","import { FETCH_NODES, FETCH_NODES_ERROR } from '../actions/types';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_NODES:\n      return { ...state, data: action.payload.data, tags: action.payload.tags };\n    case FETCH_NODES_ERROR:\n      return { ...state, data: action.payload.data, tags: action.payload.tags };\n    default:\n      return state;\n  }\n};\n","import { FETCH_QUESTIONS, FETCH_QUESTIONS_ERROR } from '../actions/types';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_QUESTIONS:\n      return { ...state, data: action.payload.data };\n    case FETCH_QUESTIONS_ERROR:\n      return { ...state, data: action.payload.data };\n    default:\n      return state;\n  }\n};\n","import { FETCH_TAGS, FETCH_TAGS_ERROR } from '../actions/types';\n\nexport default (state = {}, action) => {\n  switch (action.type) {\n    case FETCH_TAGS:\n      return { ...state, data: action.payload.data };\n    case FETCH_TAGS_ERROR:\n      return { ...state, data: action.payload.data };\n    default:\n      return state;\n  }\n};\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.scss';\r\n\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}